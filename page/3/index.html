<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="è®°å½•ä¸€äº›æŠ€æœ¯ç‚¹ï¼Œç•™ä¸‹ä¸€äº›ç”Ÿæ´»æ„Ÿæ‚Ÿ">
<meta property="og:type" content="website">
<meta property="og:title" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
<meta property="og:description" content="è®°å½•ä¸€äº›æŠ€æœ¯ç‚¹ï¼Œç•™ä¸‹ä¸€äº›ç”Ÿæ´»æ„Ÿæ‚Ÿ">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
<meta name="twitter:description" content="è®°å½•ä¸€äº›æŠ€æœ¯ç‚¹ï¼Œç•™ä¸‹ä¸€äº›ç”Ÿæ´»æ„Ÿæ‚Ÿ">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title>è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ç¨‹åºåª›</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/21/è§£å†³æ–¹æ¡ˆ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/02/21/è§£å†³æ–¹æ¡ˆ/" itemprop="url">ä¸€äº›æŠ€æœ¯é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-02-21T01:07:04+08:00">
                2017-02-21
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/21/è§£å†³æ–¹æ¡ˆ/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/02/21/è§£å†³æ–¹æ¡ˆ/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><h2 id="æ”¯æŒåˆ«äººçš„ç½‘é¡µåµŒå…¥è‡ªå·±çš„æœåŠ¡"><a href="#æ”¯æŒåˆ«äººçš„ç½‘é¡µåµŒå…¥è‡ªå·±çš„æœåŠ¡" class="headerlink" title="æ”¯æŒåˆ«äººçš„ç½‘é¡µåµŒå…¥è‡ªå·±çš„æœåŠ¡"></a>æ”¯æŒåˆ«äººçš„ç½‘é¡µåµŒå…¥è‡ªå·±çš„æœåŠ¡</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/X-Frame-Options" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/X-Frame-Options</a></p>
<p><img src="https://ww4.sinaimg.cn/large/006tNc79ly1fcq3qczcx3j310601ugmd.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">before_action :allow_iframe</div><div class="line"></div><div class="line">def allow_iframe</div><div class="line">  response.headers.except! &apos;X-Frame-Options&apos;</div><div class="line">end</div></pre></td></tr></table></figure>
<h2 id="è®¿é—®ä¿®é¥°ç¬¦"><a href="#è®¿é—®ä¿®é¥°ç¬¦" class="headerlink" title="è®¿é—®ä¿®é¥°ç¬¦"></a>è®¿é—®ä¿®é¥°ç¬¦</h2><p>Private Methods</p>
<p>So you can only call Private methods from the current context of the object, and you canâ€™t call Private methods with a receiver, even if that receiver is self.</p>
<p>åªèƒ½åœ¨å½“å‰å®ä¾‹é‡Œé¢è°ƒç”¨ï¼Œå®ä¾‹è‡ªå·±è°ƒç”¨ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œæ˜¯è¿™æ ·ç†è§£ä¹ˆã€‚ class é‡Œé¢å¯ä»¥è°ƒç”¨ï¼Œinstance.api_valueå°±ä¸è¡Œäº†ã€‚ self.api_value ä¹Ÿä¸è¡Œã€‚</p>
<p>Protected Methods</p>
<p>However, if you call the method with self it will work:</p>
<p>So the important thing to note here is, you can call Protected methods inside the context of an object of the same type.</p>
<h2 id="ç”Ÿæˆ-8-ä½æ•°å­—ç "><a href="#ç”Ÿæˆ-8-ä½æ•°å­—ç " class="headerlink" title="ç”Ÿæˆ 8 ä½æ•°å­—ç "></a>ç”Ÿæˆ 8 ä½æ•°å­—ç </h2><p>rand.to_s[2..9]</p>
<h2 id="æŸ¥çœ‹ssh-key"><a href="#æŸ¥çœ‹ssh-key" class="headerlink" title="æŸ¥çœ‹ssh key"></a>æŸ¥çœ‹ssh key</h2><p>âœ  goldendata-api git:(master) cd ~/.ssh<br>âœ  .ssh cat id_rsa.pub<br>ssh-rsa AAAAB3Nzâ€¦â€¦.</p>
<h2 id="ç™»å½•-uat-çš„æ•°æ®åº“"><a href="#ç™»å½•-uat-çš„æ•°æ®åº“" class="headerlink" title="ç™»å½• uat çš„æ•°æ®åº“"></a>ç™»å½• uat çš„æ•°æ®åº“</h2><p>ç™»å½•åˆ°è¿œç¨‹æœåŠ¡å™¨<br>    ssh åœ°å€<br>è¿›å…¥åˆ° é¡¹ç›®çš„ ç›®å½•ï¼š<br>    cd /var/apps/project/<br>è¿›å…¥åˆ° current ç›®å½•ï¼š<br>    cd current<br>è¿›å…¥åˆ°rails consoleï¼Œåšè¡¨çš„æ“ä½œ<br>    RAILS_ENV=uat bundle exec rails c</p>
<h2 id="å‹åŠ›æµ‹è¯•"><a href="#å‹åŠ›æµ‹è¯•" class="headerlink" title="å‹åŠ›æµ‹è¯•"></a>å‹åŠ›æµ‹è¯•</h2><h3 id="siege"><a href="#siege" class="headerlink" title="siege"></a>siege</h3><p>å‚è€ƒï¼š <a href="http://www.cnblogs.com/dw729/archive/2013/04/16/3024338.html" target="_blank" rel="external">http://www.cnblogs.com/dw729/archive/2013/04/16/3024338.html</a><br>cookie çš„æ ¡éªŒ<br>params è¦æ˜¯ encode åçš„<br>åœ¨æäº¤æˆåŠŸçš„é¡µé¢çš„ header ä¸­å¯»æ‰¾ cookie å’Œ params<br>ä¸‹é¢çš„ cookie å’Œ params ä»æäº¤æˆåŠŸçš„é¡µé¢ network é‡Œé¢å¯ä»¥çœ‹åˆ°ã€‚</p>
<p><img src="https://ww2.sinaimg.cn/large/006tNc79ly1fd0jhsqo1oj31kw0m87k5.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">siege -c 50 -r 100 -H &apos;Cookie:entry_token=ijMkkH; ...&apos;  &quot;https://uat.jinshuju.net/f/aqo4ek POST utf8=%E2%9C%93&amp;authenticity_token=%2BTnd349r652JPBzfKMzMv4aGljEMx2LP2tTfN29%2BBgVW2p0W7cfDVEUqHa2uuyMD0zOv%2BCc965yGpbwCBk%2FcIQ%3D%3D...&quot;</div></pre></td></tr></table></figure>
<p>siege -c50 -t60S -H â€˜Content-Type: application/jsonâ€™ â€˜<a href="http://domain.com/path/to/json.php" target="_blank" rel="external">http://domain.com/path/to/json.php</a> POST {â€œidsâ€: [â€œ1â€,â€2â€,â€3â€]}â€™</p>
<h3 id="ab-apache-testï¼š"><a href="#ab-apache-testï¼š" class="headerlink" title="ab apache testï¼š"></a>ab apache testï¼š</h3><p>å‚è€ƒ <a href="http://www.ha97.com/4617.html" target="_blank" rel="external">http://www.ha97.com/4617.html</a></p>
<p>postdata.txt é‡Œé¢å†™ encode åçš„å‚æ•°<br>ab -n 4000 -c 2000 -T â€˜application/x-www-form-urlencodedâ€™ -p postdata.txt <a href="https://uat.jinshuju.net/f/x6fXZV" target="_blank" rel="external">https://uat.jinshuju.net/f/x6fXZV</a></p>
<h2 id="bootstrapvalidator"><a href="#bootstrapvalidator" class="headerlink" title="bootstrapvalidator"></a>bootstrapvalidator</h2><p><a href="http://bootstrapvalidator.votintsev.ru/settings/" target="_blank" rel="external">http://bootstrapvalidator.votintsev.ru/settings/</a></p>
<h2 id="æ‰“å¼€æœ¬åœ°-redis"><a href="#æ‰“å¼€æœ¬åœ°-redis" class="headerlink" title="æ‰“å¼€æœ¬åœ° redis"></a>æ‰“å¼€æœ¬åœ° redis</h2><p>redis-cli</p>
<h2 id="åŒäº‹åˆ†äº«"><a href="#åŒäº‹åˆ†äº«" class="headerlink" title="åŒäº‹åˆ†äº«"></a>åŒäº‹åˆ†äº«</h2><p><a href="https://workflowy.com/s/EuhH.J0gNr5G9LD" target="_blank" rel="external">https://workflowy.com/s/EuhH.J0gNr5G9LD</a></p>
<h2 id="è·å–-ssh"><a href="#è·å–-ssh" class="headerlink" title="è·å– ssh"></a>è·å– ssh</h2><ol>
<li>~/.ssh</li>
<li>cat id_rsa.pub</li>
</ol>
<h2 id="header-body-footer"><a href="#header-body-footer" class="headerlink" title="header,body,footer"></a>header,body,footer</h2><h2 id="çœ‹æµ‹è¯•ing-çš„-error"><a href="#çœ‹æµ‹è¯•ing-çš„-error" class="headerlink" title="çœ‹æµ‹è¯•ing çš„ error"></a>çœ‹æµ‹è¯•ing çš„ error</h2><p>ctrl + t</p>
<h2 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h2><p> ps -x | grep elastic</p>
<h2 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h2><p>åˆ é™¤è¿œç«¯ branchï¼š git push origin â€“delete 67_exam_score<br>åˆ é™¤æœ¬åœ° branchï¼š git branch -d 67_exam_score<br>æŠŠè¿œç«¯åˆ†æ”¯æ‹‰åˆ°æœ¬åœ° <code>git checkout --track origin/daves_branch</code></p>
<h2 id="snipaste"><a href="#snipaste" class="headerlink" title="snipaste"></a>snipaste</h2><p>æˆªå›¾ä»€ä¹ˆçš„ã€‚</p>
<h2 id="gemset"><a href="#gemset" class="headerlink" title="gemset"></a>gemset</h2><p>æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„ gemset å’Œ å½“å‰ä½¿ç”¨çš„ gem ç®¡ç†ç©ºé—´</p>
<p><img src="https://ww2.sinaimg.cn/large/006tKfTcly1fdmjl67ghtj30xq0cgdhk.jpg" alt=""></p>
<p>rvm gemset list</p>
<p>.ruby-gemset é‡Œé¢æœ‰æˆ‘è¿™ä¸ª é¡¹ç›®ä½¿ç”¨çš„ gem ç®¡ç†çš„ æ–‡ä»¶å¤¹ã€‚<br>ls -al å¯ä»¥çœ‹åˆ°æœ‰ .ruby-gemset</p>
<h2 id="ç‚¹ä¸€é-æ‰€æœ‰çš„é¡µé¢-æŒ‰é’®"><a href="#ç‚¹ä¸€é-æ‰€æœ‰çš„é¡µé¢-æŒ‰é’®" class="headerlink" title="ç‚¹ä¸€é æ‰€æœ‰çš„é¡µé¢ æŒ‰é’®"></a>ç‚¹ä¸€é æ‰€æœ‰çš„é¡µé¢ æŒ‰é’®</h2><h2 id="1-to-01"><a href="#1-to-01" class="headerlink" title="1 to 01"></a>1 to 01</h2><p>sprintf â€˜%02dâ€™, 1</p>
<h2 id="æŸ¥çœ‹è¿›ç¨‹"><a href="#æŸ¥çœ‹è¿›ç¨‹" class="headerlink" title="æŸ¥çœ‹è¿›ç¨‹"></a>æŸ¥çœ‹è¿›ç¨‹</h2><p>ps -x | grep elastic</p>
<p>æ€æ­»è¿›ç¨‹<br>kill -9 390</p>
<p>å¯åŠ¨ es<br>âœ  bin ./elasticsearch -d</p>
<h2 id="mini-test"><a href="#mini-test" class="headerlink" title="mini test"></a>mini test</h2><p>m test/controllers/entries_controller_test.rb:130</p>
<p>RUN_COVERAGE=false rake</p>
<h2 id="è‡ªå®šä¹‰-bootstrapValidator-éªŒè¯å™¨"><a href="#è‡ªå®šä¹‰-bootstrapValidator-éªŒè¯å™¨" class="headerlink" title="è‡ªå®šä¹‰ bootstrapValidator éªŒè¯å™¨"></a>è‡ªå®šä¹‰ bootstrapValidator éªŒè¯å™¨</h2><p><a href="http://www.itdadao.com/articles/c15a302743p0.html" target="_blank" rel="external">http://www.itdadao.com/articles/c15a302743p0.html</a></p>
<h2 id="éƒ¨ç½²åç™»å½•é”™-uat-ç¯å¢ƒäº†ï¼Œæ‰€ä»¥çœ‹åˆ°ä»£ç ä¸€ç›´æ²¡å˜ï¼Œå“ï¼Œä¸‹æ¬¡é‡åˆ°è¿™ç§é—®é¢˜ï¼Œè¦æƒ³æƒ³"><a href="#éƒ¨ç½²åç™»å½•é”™-uat-ç¯å¢ƒäº†ï¼Œæ‰€ä»¥çœ‹åˆ°ä»£ç ä¸€ç›´æ²¡å˜ï¼Œå“ï¼Œä¸‹æ¬¡é‡åˆ°è¿™ç§é—®é¢˜ï¼Œè¦æƒ³æƒ³" class="headerlink" title="éƒ¨ç½²åç™»å½•é”™ uat ç¯å¢ƒäº†ï¼Œæ‰€ä»¥çœ‹åˆ°ä»£ç ä¸€ç›´æ²¡å˜ï¼Œå“ï¼Œä¸‹æ¬¡é‡åˆ°è¿™ç§é—®é¢˜ï¼Œè¦æƒ³æƒ³"></a>éƒ¨ç½²åç™»å½•é”™ uat ç¯å¢ƒäº†ï¼Œæ‰€ä»¥çœ‹åˆ°ä»£ç ä¸€ç›´æ²¡å˜ï¼Œå“ï¼Œä¸‹æ¬¡é‡åˆ°è¿™ç§é—®é¢˜ï¼Œè¦æƒ³æƒ³</h2><p>api éƒ¨ç½²è¢«è¦†ç›–ï¼Œæ‰€ä»¥ä»£ç æ²¡æœ‰ç”Ÿæ•ˆ</p>
<h2 id="æ’¤é”€-commit"><a href="#æ’¤é”€-commit" class="headerlink" title="æ’¤é”€ commit"></a>æ’¤é”€ commit</h2><p>git reset â€“hard c9a9eec9c9b39f7522b9098deada053f1cca0e63<br>HEAD is now at c9a9eec Merge branch â€˜masterâ€™ into dev</p>
<p>git push -f origin dev</p>
<h2 id="git-branch-å‘½åæœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œä¼š-push-ä¸ä¸Šå»"><a href="#git-branch-å‘½åæœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œä¼š-push-ä¸ä¸Šå»" class="headerlink" title="git branch å‘½åæœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œä¼š push ä¸ä¸Šå»"></a>git branch å‘½åæœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œä¼š push ä¸ä¸Šå»</h2><p><img src="https://ww3.sinaimg.cn/large/006tNbRwly1fectffff1gj313u02sjsm.jpg" alt=""></p>
<p><img src="https://ww2.sinaimg.cn/large/006tNbRwly1fecthdc6etj31720dy0wy.jpg" alt=""></p>
<p><img src="https://ww4.sinaimg.cn/large/006tNbRwly1fecthdiqczj315k0ymaif.jpg" alt=""></p>
<p>é€šè¿‡ git branch -a å¯ä»¥æŸ¥çœ‹å½“ç„¶çš„åˆ†æ”¯åŠè¿œç«¯åˆ†æ”¯<br>git checkout åˆ°å»æ‰ç‰¹æ®Šå­—ç¬¦çš„åˆ†æ”¯ï¼Œç„¶åé‡æ–° push ï¼Œè¿™ä¸ªå¯ä»¥æŠŠå½“å‰åˆ†æ”¯çš„commit ä¹Ÿä¸€èµ·commit åˆ°æ–°çš„åˆ†æ”¯ï¼Œä¸ç”¨æ‹…å¿ƒæ¼æ‰ã€‚</p>
<h2 id="git-status-çš„æ—¶å€™ï¼Œæœ‰ä¸€äº›æ²¡æœ‰æ¸…é™¤çš„æ“ä½œï¼Œæ˜¯ä¹‹å‰-rebase-çš„æ—¶å€™æ²¡æœ‰æ“ä½œå®Œå…¨ï¼Œåé¢åˆmergeäº†å§"><a href="#git-status-çš„æ—¶å€™ï¼Œæœ‰ä¸€äº›æ²¡æœ‰æ¸…é™¤çš„æ“ä½œï¼Œæ˜¯ä¹‹å‰-rebase-çš„æ—¶å€™æ²¡æœ‰æ“ä½œå®Œå…¨ï¼Œåé¢åˆmergeäº†å§" class="headerlink" title="git status çš„æ—¶å€™ï¼Œæœ‰ä¸€äº›æ²¡æœ‰æ¸…é™¤çš„æ“ä½œï¼Œæ˜¯ä¹‹å‰ rebase çš„æ—¶å€™æ²¡æœ‰æ“ä½œå®Œå…¨ï¼Œåé¢åˆmergeäº†å§"></a>git status çš„æ—¶å€™ï¼Œæœ‰ä¸€äº›æ²¡æœ‰æ¸…é™¤çš„æ“ä½œï¼Œæ˜¯ä¹‹å‰ rebase çš„æ—¶å€™æ²¡æœ‰æ“ä½œå®Œå…¨ï¼Œåé¢åˆmergeäº†å§</h2><p><img src="https://ww2.sinaimg.cn/large/006tNbRwly1fecvsdo3daj317e0gs0wf.jpg" alt=""></p>
<p>æ‰€ä»¥ ç°åœ¨è§£å†³æ˜¯é€šè¿‡ git rebase â€“continue ä¸€ä¸ªä¸€ä¸ªçš„æŠŠ Next commands to do (2 remaining commands) æåˆ° Last commands done (7 commands done) è¿™æ ·æ‰èƒ½æŠŠä¹‹å‰ rebase åœæ­¢çš„éƒ¨åˆ†ä¸€ä¸ªä¸ªè§£å†³æ‰ï¼Œæ¯ continue ä¸€æ¬¡ï¼Œæ£€æŸ¥ä¸€ä¸‹ git statusçœ‹æœ‰æ²¡æœ‰å†²çªï¼Œæœ‰å†²çªè§£å†³ä¸€ä¸‹ ã€‚ï¼ˆrebase çš„æ—¶å€™ï¼Œå¦‚æœæœ‰ commit å†²çªï¼Œå°±ä¼šåœ¨é‚£ä¸ªcommit åœæ­¢ï¼Œè¦æŠŠåé¢çš„ä¸€ä¸ªä¸ª continue æ‰èƒ½ å®Œæˆè¿™äº›æ“ä½œã€‚ï¼‰</p>
<h2 id="åœ¨æœ¬åœ°-image-ä¸åŠ -png-è¿™ç§æ–‡ä»¶åç¼€æ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œä½†æ˜¯åˆ°äº†-uat-æˆ–è€…ç”Ÿäº§ç¯å¢ƒå°±ä¼šæœ‰é”™ã€‚çŒœæƒ³æœ‰å¯èƒ½æ˜¯-assets-pipeline-åŠ å¯†çš„æ—¶å€™æœ‰é—®é¢˜ï¼Œæ‰€ä»¥æ²¡åŠæ³•æ­£å¸¸ä½¿ç”¨ã€‚"><a href="#åœ¨æœ¬åœ°-image-ä¸åŠ -png-è¿™ç§æ–‡ä»¶åç¼€æ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œä½†æ˜¯åˆ°äº†-uat-æˆ–è€…ç”Ÿäº§ç¯å¢ƒå°±ä¼šæœ‰é”™ã€‚çŒœæƒ³æœ‰å¯èƒ½æ˜¯-assets-pipeline-åŠ å¯†çš„æ—¶å€™æœ‰é—®é¢˜ï¼Œæ‰€ä»¥æ²¡åŠæ³•æ­£å¸¸ä½¿ç”¨ã€‚" class="headerlink" title="åœ¨æœ¬åœ° image ä¸åŠ  .png è¿™ç§æ–‡ä»¶åç¼€æ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œä½†æ˜¯åˆ°äº† uat æˆ–è€…ç”Ÿäº§ç¯å¢ƒå°±ä¼šæœ‰é”™ã€‚çŒœæƒ³æœ‰å¯èƒ½æ˜¯ assets pipeline åŠ å¯†çš„æ—¶å€™æœ‰é—®é¢˜ï¼Œæ‰€ä»¥æ²¡åŠæ³•æ­£å¸¸ä½¿ç”¨ã€‚"></a>åœ¨æœ¬åœ° image ä¸åŠ  .png è¿™ç§æ–‡ä»¶åç¼€æ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œä½†æ˜¯åˆ°äº† uat æˆ–è€…ç”Ÿäº§ç¯å¢ƒå°±ä¼šæœ‰é”™ã€‚çŒœæƒ³æœ‰å¯èƒ½æ˜¯ assets pipeline åŠ å¯†çš„æ—¶å€™æœ‰é—®é¢˜ï¼Œæ‰€ä»¥æ²¡åŠæ³•æ­£å¸¸ä½¿ç”¨ã€‚</h2><p>ä½¿ç”¨ asset_path(â€œthemes/background/#{template[:name]}.pngâ€) å¯ä»¥æ‹¿åˆ°åŠ å¯†åçš„å›¾ç‰‡ï¼Œåœ¨jsä¸­ä½¿ç”¨</p>
<h2 id="gitk-å¯ä»¥è°ƒå–æŸ¥çœ‹gitçš„çª—å£"><a href="#gitk-å¯ä»¥è°ƒå–æŸ¥çœ‹gitçš„çª—å£" class="headerlink" title="gitk å¯ä»¥è°ƒå–æŸ¥çœ‹gitçš„çª—å£"></a>gitk å¯ä»¥è°ƒå–æŸ¥çœ‹gitçš„çª—å£</h2><h2 id="jquery-unshift"><a href="#jquery-unshift" class="headerlink" title="jquery unshift"></a>jquery unshift</h2><p>matchFields.unshift({id: â€˜x_field_1â€™, text: â€˜æ‰©å±•å±æ€§â€™})<br>è¿™ä¸ªç»“æœè¿”å›çš„æ˜¯ æ’å…¥çš„ indexï¼Œè€Œä¸æ˜¯ matchFields</p>
<h2 id="gem-â€˜zeroclipboard-railsâ€™-é…åˆ-turbolinks-ä½¿ç”¨çš„æ—¶å€™æ³¨æ„ï¼Œè¦å…ˆé”€æ¯-ZeroClipboard"><a href="#gem-â€˜zeroclipboard-railsâ€™-é…åˆ-turbolinks-ä½¿ç”¨çš„æ—¶å€™æ³¨æ„ï¼Œè¦å…ˆé”€æ¯-ZeroClipboard" class="headerlink" title="gem â€˜zeroclipboard-railsâ€™ é…åˆ turbolinks ä½¿ç”¨çš„æ—¶å€™æ³¨æ„ï¼Œè¦å…ˆé”€æ¯ ZeroClipboard"></a>gem â€˜zeroclipboard-railsâ€™ é…åˆ turbolinks ä½¿ç”¨çš„æ—¶å€™æ³¨æ„ï¼Œè¦å…ˆé”€æ¯ ZeroClipboard</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>).on <span class="string">'turbolinks:load'</span>, -&gt;</div><div class="line">  <span class="keyword">return</span> unless $(<span class="string">".app-publish-container"</span>).length</div><div class="line">  ZeroClipboard.destroy()</div><div class="line">  $copyCheckinUrlDom = $(<span class="string">"#copy_checkin_url"</span>)</div><div class="line">  <span class="keyword">new</span> ZeroClipboard $copyCheckinUrlDom</div><div class="line">  $copyCheckinUrlDom.on <span class="string">'click'</span>, -&gt; App.View.showFlashNotification(<span class="string">'å¤åˆ¶ç½‘å€æˆåŠŸ'</span>)</div></pre></td></tr></table></figure>
<h2 id="è‡ªå®šä¹‰-jquery-validate"><a href="#è‡ªå®šä¹‰-jquery-validate" class="headerlink" title="è‡ªå®šä¹‰ jquery-validate"></a>è‡ªå®šä¹‰ jquery-validate</h2><p>gd-rt-lottery ä¸­æœ‰ callback<br>code-verify ä¸­æœ‰ è‡ªå®šä¹‰éªŒè¯å™¨</p>
<h2 id="rails-å¼‚æ­¥æ‰§è¡Œ"><a href="#rails-å¼‚æ­¥æ‰§è¡Œ" class="headerlink" title="rails å¼‚æ­¥æ‰§è¡Œ"></a>rails å¼‚æ­¥æ‰§è¡Œ</h2><p><a href="http://edgeguides.rubyonrails.org/active_job_basics.html" target="_blank" rel="external">http://edgeguides.rubyonrails.org/active_job_basics.html</a></p>
<h2 id="Zen-Rails-Security-Checklist"><a href="#Zen-Rails-Security-Checklist" class="headerlink" title="Zen Rails Security Checklist"></a>Zen Rails Security Checklist</h2><p><a href="https://github.com/brunofacca/zen-rails-security-checklist" target="_blank" rel="external">https://github.com/brunofacca/zen-rails-security-checklist</a></p>
<h2 id="è€ƒè¯•0ç§’é—®é¢˜"><a href="#è€ƒè¯•0ç§’é—®é¢˜" class="headerlink" title="è€ƒè¯•0ç§’é—®é¢˜"></a>è€ƒè¯•0ç§’é—®é¢˜</h2><p>è¿™ä¸ªbugä¹Ÿæ˜¯è§£äº†å¾ˆä¹…ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰è§£å†³æ‰ã€‚<br>ä½†æ˜¯é€šè¿‡è§‚å¯Ÿï¼Œå¯ä»¥å‘ç°ï¼Œåœ¨ safari ä¸­ç¬¬ä¸€æ¬¡æ‰“å¼€æµè§ˆå™¨æ˜¯å¾ˆå®¹æ˜“å‡ºç° 0 ç§’çš„ã€‚<br>åæ¥å®šä½åˆ°é—®é¢˜æ˜¯ safari åœ¨å†™è·¨åŸŸè¯·æ±‚çš„æ—¶å€™ï¼Œå¦‚æœä½ ä¹‹å‰æ²¡æœ‰è®¿é—®è¿‡åº”ç”¨çš„é“¾æ¥ï¼Œåœ¨å¾€åº”ç”¨é“¾æ¥ä¸‹å†™ cookie çš„æ—¶å€™æ˜¯ä¸ work çš„ï¼Œåœ¨æ¸…é™¤ safari å†å²è®°å½•ä¹‹åï¼Œç™¾åˆ†ç™¾é‡ç° 0 ç§’ã€‚<br>å› æ­¤ï¼Œé—®é¢˜æ‰¾åˆ°ã€‚è§£å†³æ–¹æ¡ˆå°±æ˜¯ï¼Œè¦åœ¨è€ƒè¯•æäº¤å‰ï¼Œè®¿é—®ä¸€æ¬¡åº”ç”¨çš„é“¾æ¥ã€‚</p>
<ol>
<li>ç¬¬ä¸€ç§æƒ³æ³•æ˜¯è‡ªå·±å·å·åœ¨è¿™ä¸ªåº”ç”¨ controller ä¸­è®¿é—®ï¼Œä½†æ˜¯æ˜¯ä¸å¯è¡Œçš„ï¼Œsafari è®°å½•çš„è²Œä¼¼æ˜¯æµè§ˆè®°å½•ã€‚</li>
<li>å¢åŠ äº†è€ƒå‰å¿…è¯»ï¼Œè®©ç”¨æˆ·å…ˆä» åº”ç”¨ä¸­è¿›å…¥è€ƒè¯•çš„è¡¨å•ï¼Œè¿™æ ·æäº¤çš„æ—¶å€™å°±å¯ä»¥è·¨åŸŸå†™ uid äº†ã€‚</li>
</ol>
<h2 id="æ€§èƒ½é—®é¢˜æ€»ç»“"><a href="#æ€§èƒ½é—®é¢˜æ€»ç»“" class="headerlink" title="æ€§èƒ½é—®é¢˜æ€»ç»“"></a>æ€§èƒ½é—®é¢˜æ€»ç»“</h2><p>èƒŒæ™¯ï¼šä¼ä¸šç‰ˆåº”ç”¨æˆæƒååº”ååˆ†æ…¢ã€‚<br>åˆæ­¥ç–‘æƒ‘ï¼šä¸ªäººç‰ˆå’Œä¼ä¸šç‰ˆä»£ç æ˜¯ä¸€æ ·çš„ï¼Œä¸ºä»€ä¹ˆä¼ä¸šç‰ˆå°±æ…¢äº†ï¼Ÿ<br>å…ˆæ˜¯æŸ¥çœ‹ä»£ç ï¼Œæ˜¯ä¸æ˜¯ä»£ç æœ¬èº«é—®é¢˜ï¼Œä½†æ˜¯è®°å½•æ—¥å¿—æ—¶é—´ç›¸å·®éƒ½å¾ˆå°ï¼Œå¯ä»¥ç¡®å®šä¸æ˜¯ä»£ç é—®é¢˜ã€‚<br>åæ¥è®¨è®ºä¹‹åï¼Œè¿˜æ˜¯è§‰å¾—éƒ¨ç½²ç¯å¢ƒæœ‰é—®é¢˜</p>
<ol>
<li>æ’é™¤äº†ä¸€ä¸‹ä»£ç çš„å¯èƒ½æ€§ã€‚</li>
<li><p>ç»§ç»­è·Ÿè¿›ï¼Œå»æ‰¾ä¼ä¸šç‰ˆï¼Œçœ‹apiå¤„ç†é€Ÿåº¦ï¼Œä¼ä¸šç‰ˆapiä¹Ÿæ²¡é—®é¢˜ã€‚</p>
</li>
<li><p>ç»™å‡ºè§£å†³æ–¹æ¡ˆï¼šåœ¨ uat ï¼ˆå› ä¸ºuatä¹Ÿæ˜¯å¾ˆæ…¢çš„ï¼‰</p>
<ol>
<li>å†™ä¸€ä¸ªå¾ˆç®€å•çš„ controller å»è®¿é—® curlï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯æœ€ç®€å•çš„ä»£ç éƒ½æ…¢ï¼Œå¦‚æœæœ€ç®€å•çš„éƒ½æ…¢ï¼Œå°±å¯ä»¥ååˆ†è‚¯å®šä¸æ˜¯ä»£ç çš„é—®é¢˜ã€‚</li>
<li>ä¸æ˜¯ä»£ç çš„é—®é¢˜å°±æ˜¯ç¯å¢ƒçš„é—®é¢˜ï¼Œå°±å¾—é…åˆè±ªå“¥çœ‹åˆ°åº•æ˜¯å“ªå—çš„é—®é¢˜ã€‚</li>
</ol>
</li>
<li><p>é…åˆå‘èµ·è¯·æ±‚ï¼Œåœ¨æ­¤è¿™è¿‡ç¨‹ä¸­æœ¬å¯ä»¥é”å®šé—®é¢˜ï¼Œä½†æ˜¯å› ä¸ºåœ¨ä¸€ä¸ªç¯èŠ‚ç†è§£é”™äº†ï¼Œæ²¡æœ‰å®šä½å‡ºæ¥ã€‚<br> åæ¥è±ªå“¥ä¹Ÿæ˜¯æƒ³äº†å¥½å‡ å¤©æ‰åˆä¸€æ¬¡æ‰§è¡Œé”™è¯¯ç†è§£çš„éƒ¨åˆ†ï¼Œç»“æœè¯æ˜ç¡®å®æ˜¯è¿™é‡Œçš„é—®é¢˜ï¼Œï¼ˆè¿™ä¸€å—ä¹Ÿä¸»è¦æƒ³ä¼ä¸šç‰ˆç¯å¢ƒå’Œä¸ªäººç‰ˆåˆ°åº•æœ‰ä½•ä¸åŒï¼‰ã€‚<br> æ˜¯å› ä¸º css ç­‰è¦å…ˆç»è¿‡ dns è§£æè¿˜æ˜¯ä»€ä¹ˆï¼Ÿå»æ‰è¿™å—æŒ‡å‘å°±å¿«äº†ã€‚</p>
</li>
</ol>
<p>æ€»ç»“æ˜¯ï¼šå›ºå®šä¸€äº›æ¡ä»¶ï¼Œæ’é™¤å¯èƒ½æ€§ã€‚ä¸è¦ä¸€å¼€å§‹è®¤æ€‚ã€‚ä¸æ˜¯ä»£ç çš„é—®é¢˜ä¹Ÿè¦å»è·Ÿè¿›é—®é¢˜ï¼Œæ¯•ç«Ÿé—®é¢˜æ€»æ˜¯è¦è§£å†³çš„ï¼Œä¸ç„¶ç•™ç»™è°ï¼Ÿ</p>
<h2 id="è®©å•è¯åˆ«è‡ªåŠ¨åˆ†å¼€"><a href="#è®©å•è¯åˆ«è‡ªåŠ¨åˆ†å¼€" class="headerlink" title="è®©å•è¯åˆ«è‡ªåŠ¨åˆ†å¼€"></a>è®©å•è¯åˆ«è‡ªåŠ¨åˆ†å¼€</h2><p>åŠ ä¸Šæ ·å¼<br>word-break:break-all</p>
<h2 id="ä¸­é—´æ‰“ç‚¹"><a href="#ä¸­é—´æ‰“ç‚¹" class="headerlink" title="ä¸­é—´æ‰“ç‚¹"></a>ä¸­é—´æ‰“ç‚¹</h2><p><a href="http://stackoverflow.com/questions/7023545/truncate-string-with-rails" target="_blank" rel="external">http://stackoverflow.com/questions/7023545/truncate-string-with-rails</a></p>
<h2 id="es-task"><a href="#es-task" class="headerlink" title="es task"></a>es task</h2><p>rake es:form:reindex[20160801,20170901]<br>rake es:entry:reindex_all<br>rake es:contact:reindex_all</p>
<p>æŠŠè¿™å‡ ä¸ªè·‘äº†ä¹‹åï¼Œæ‰èƒ½æ•°æ®åŒæ­¥åˆ°esï¼Œesçš„æœç´¢æ‰èƒ½æ­£ç¡®æ‰§è¡Œ</p>
<h2 id="backbone-el"><a href="#backbone-el" class="headerlink" title="backbone el"></a>backbone el</h2><p>backbone çš„ view å¦‚æœæŒ‡å®šäº† elï¼Œå°±æ˜¯ç‰¹å®šçš„elï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¼šç»™ä¸€ä¸ªç©ºçš„ div ä½œä¸º el</p>
<p>by default, backbone viewâ€™s el is set to an empty div. so, this.el and this.$el are always present.</p>
<h2 id="å¯ä»¥æŠŠ-å¤šä¸ªç©ºæ ¼-æ ¼å¼åŒ–æˆä¸€ä¸ªç©ºæ ¼"><a href="#å¯ä»¥æŠŠ-å¤šä¸ªç©ºæ ¼-æ ¼å¼åŒ–æˆä¸€ä¸ªç©ºæ ¼" class="headerlink" title="å¯ä»¥æŠŠ å¤šä¸ªç©ºæ ¼ æ ¼å¼åŒ–æˆä¸€ä¸ªç©ºæ ¼"></a>å¯ä»¥æŠŠ å¤šä¸ªç©ºæ ¼ æ ¼å¼åŒ–æˆä¸€ä¸ªç©ºæ ¼</h2><p>â€˜aa bb  ccâ€™.squish!</p>
<h2 id="æŠŠæ‰€æœ‰çš„-æ›¿æ¢æˆ-ï¼›"><a href="#æŠŠæ‰€æœ‰çš„-æ›¿æ¢æˆ-ï¼›" class="headerlink" title="æŠŠæ‰€æœ‰çš„ ; æ›¿æ¢æˆ ï¼›"></a>æŠŠæ‰€æœ‰çš„ ; æ›¿æ¢æˆ ï¼›</h2><p>$textFieldDom.val().replace(/;/g, â€˜ï¼›â€™)</p>
<h2 id="rails-è·å–-ip"><a href="#rails-è·å–-ip" class="headerlink" title="rails è·å– ip"></a>rails è·å– ip</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">def request_real_ip</div><div class="line">    return @request_real_ip if instance_variable_defined? :@request_real_ip</div><div class="line">    raw_ip = cname_request? ? request.env[&apos;HTTP_X_REAL_IP&apos;] : (request.env[&apos;HTTP_X_FORWARDED_FOR&apos;] || request.remote_ip)</div><div class="line">    @request_real_ip = raw_ip ? raw_ip.split(&apos;,&apos;).first.strip : nil</div><div class="line">  end</div><div class="line"></div><div class="line">  def cname_request?</div><div class="line">    request.env[&apos;HTTP_X_JSJ_FROM&apos;].present?</div><div class="line">  end</div></pre></td></tr></table></figure>
<h1 id="å¦‚æœæ²¡æœ‰æƒé™å»º-rep-ï¼Œé‚£ä¹ˆfork-æ˜¯-fork-åˆ°äº†è‡ªå·±çš„å…¬å¼€åœ°å€"><a href="#å¦‚æœæ²¡æœ‰æƒé™å»º-rep-ï¼Œé‚£ä¹ˆfork-æ˜¯-fork-åˆ°äº†è‡ªå·±çš„å…¬å¼€åœ°å€" class="headerlink" title="å¦‚æœæ²¡æœ‰æƒé™å»º rep ï¼Œé‚£ä¹ˆfork æ˜¯ fork åˆ°äº†è‡ªå·±çš„å…¬å¼€åœ°å€"></a>å¦‚æœæ²¡æœ‰æƒé™å»º rep ï¼Œé‚£ä¹ˆfork æ˜¯ fork åˆ°äº†è‡ªå·±çš„å…¬å¼€åœ°å€</h1><h1 id="è½¬æ¢-csv-ä¸º-xlsx"><a href="#è½¬æ¢-csv-ä¸º-xlsx" class="headerlink" title="è½¬æ¢ csv ä¸º xlsx"></a>è½¬æ¢ csv ä¸º xlsx</h1><p><a href="https://convertio.co/csv-xlsx/" target="_blank" rel="external">https://convertio.co/csv-xlsx/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/25/æœ€å¤§çš„å·®è·/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/01/25/æœ€å¤§çš„å·®è·/" itemprop="url">æœ€å¤§çš„å·®è·</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-01-25T12:47:04+08:00">
                2017-01-25
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/01/25/æœ€å¤§çš„å·®è·/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/01/25/æœ€å¤§çš„å·®è·/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æ˜¨å¤©ï¼Œæˆ‘æœ¬æ¥ä¹°çš„æ˜¯åˆ°å°å·çš„é«˜é“ï¼Œåæ¥è€å¦ˆè·Ÿæˆ‘è¯´ä¹°åˆ°æ­å·ï¼Œè½¬è½¦å›å®¶æ›´æ–¹ä¾¿ï¼›ç„¶åæˆ‘æƒ³ï¼Œåˆ°æ­å·çš„è·ç¦»æ›´è¿‘ï¼Œé‚£ä¹ˆæˆ‘èƒ½ä¸èƒ½æŠŠç¥¨æ”¹ç­¾åˆ°æ­å·ï¼Œç»“æœæ²¡æœ‰æˆåŠŸï¼Œåæ¥æˆ‘æŠŠç¥¨é€€äº†ï¼Œåˆé‡æ–°ä¹°åˆ°æ­å·ã€‚ç»“æœé€€ç¥¨æ‰£äº†150å¤šå—é’±ï¼Œé‡æ–°ä¹°çš„ç¥¨æ¯”é€€ç¥¨è¿”çš„é’±è¿˜å¤šäº†40ï¼Œå‰åå°±äºæ‰äº†190å—é’±ã€‚è€Œä¸€å¼€å§‹æˆ‘å°±ä¸é€€çš„è¯ï¼Œä¸­é€”åœ¨æ­å·ç›´æ¥ä¸‹è½¦ï¼Œè²Œä¼¼å°±ä¸ä¼šæœ‰è¿™äº›äºæŸäº†å§ã€‚æ‰€ä»¥åæ¥æˆ‘åæ‚”è«åŠï¼Œæ‰“ç”µè¯ç»™æˆ‘å¯¹è±¡ï¼Œå“­è¯‰æˆ‘çš„è¿½æ‚”è«åŠã€‚åæ¥ä»–è¿˜æŠŠæˆ‘è¯´äº†ä¸€é¡¿ï¼Œä½ ç°åœ¨è¿˜åæ‚”æœ‰å•¥ç”¨ï¼Œäºå°±äºäº†å‘—ã€‚</p>
<p>æ˜¯çš„ï¼Œæˆ‘å½“ç„¶çŸ¥é“ï¼Œ<strong>ç°åœ¨åæ‚”æ— éæ˜¯å¯¹æ³¨æ„åŠ›æ›´å¤§çš„äºæŸ</strong>ã€‚ä½†æ˜¯ï¼Œæˆ‘è¿˜æ˜¯ä¼šè¿™æ ·<strong>æƒ…ç»ªåŒ–çš„æ¶ˆè´¹è‡ªå·±å®è´µçš„æ³¨æ„åŠ›</strong>ã€‚å¾ˆå¤šæ—¶å€™éƒ½æ˜¯è¿™æ ·ï¼Œ<strong>ä½ æ‡‚å¾—ä¸€ä¸ªé“ç†å¹¶ä¸èƒ½æ—¶æ—¶çš„è®©å®ƒé­ç­–ä½ ï¼Œå¾ˆå¥½çš„è¿ç”¨è¿™ä¸ªé“ç†</strong>ã€‚æ‰€ä»¥æˆ‘è¿˜æ˜¯éœ€è¦ä¸æ–­çš„å»å®¡è§†è‡ªå·±ï¼Œå»æ”¹æ­£è‡ªå·±çš„è¡Œä¸ºã€‚</p>
<p>ä»Šå¤©ä¸‡ç»´é’¢åœ¨å¾—åˆ°çš„æ–‡ç« é‡Œæåˆ°çš„æ³°å‹’Â·ç§‘æ–‡ï¼Œè¯´ä»–æ˜¯æ–‡åŒ–ä¸Šçš„äº¿ä¸‡å¯Œç¿ï¼Œè€Œæ³°å‹’Â·ç§‘æ–‡æœ¬äººçš„æ”¶å…¥æ¯”ç¾å›½å®¶åº­æ”¶å…¥ä¸­ä½æ•°è¿˜ä½ï¼ˆè™½ç„¶è·Ÿæˆ‘ä»¬æ¯”é‚£æ˜¯å¾ˆé«˜äº†ï¼‰ã€‚æˆ‘æƒ³åˆ°çš„æ˜¯ï¼Œæˆ‘èƒ½ä¸èƒ½åœ¨é‡‘é’±å’Œç‰©è´¨ä¸Šä¸å¯Œæœ‰çš„æƒ…å†µä¸‹ï¼Œè®©è‡ªå·±çš„æ€æƒ³æ°´å¹³ç­‰ç²¾ç¥ä¸Šå˜çš„æ¯”è¾ƒå¯Œæœ‰ï¼Ÿå¾€å¾€æˆ‘ä»¬åœ¨è®¨è®ºä¸€ä¸ªäººåº”è¯¥åœ¨ç²¾ç¥ä¸Šæ›´åŠ å¯Œæœ‰çš„æ—¶å€™ï¼Œéƒ½æ˜¯ä¸€äº›åœ¨é‡‘é’±å’Œç‰©è´¨æ»¡è¶³ä¸äº†è‡ªå·±ä¹‹åæ‰æ‹¿å‡ºæ¥çš„è¯´æ³•ï¼Œè²Œä¼¼åœ¨å®‰æ…°è‡ªå·±ä¼¼çš„ã€‚æˆ‘ä»¥å‰ä¹Ÿæ˜¯è¿™æ ·ï¼Œä½†æ˜¯æˆ‘ç°åœ¨æƒ³è¾¾åˆ°çš„ç²¾ç¥ä¸Šçš„å¯Œè¶³å¹¶ä¸æ˜¯ä¸ºäº†å®‰æ…°è‡ªå·±ï¼Œè€Œæ˜¯æˆ‘æ„è¯†åˆ°äº†ï¼Œ<strong>äººç”Ÿæœ€å¤§çš„å·®è·æˆ–è®¸å°±åœ¨ç²¾ç¥å±‚é¢ã€‚è€Œç‰©è´¨è´¢å¯Œä¸Šçš„å·®è·æ˜¯å¯ä»¥é€šè¿‡ç²¾ç¥ä¸Šå·®è·çš„ç¼©å°è€Œç¼©å°çš„ã€‚</strong></p>
<p>æœ‰ä¸€æœŸç½—è¾‘æ€ç»´çš„è§†é¢‘é‡Œé¢è¯´çš„ï¼Œ<strong>æ–‡æ˜æ˜¯å‰¯äº§å“</strong>ã€‚ç°åœ¨æƒ³æƒ³ï¼Œ<strong>ç‰©è´¨è´¢å¯Œä¹Ÿæ˜¯ç²¾ç¥æ€æƒ³ä¸Šçš„å‰¯äº§å“</strong>ã€‚ä¸€ä¸ªæœ‰æ€æƒ³ã€ä¼šè¿›å–ã€æœ‰èƒ½åŠ›çš„äººæ˜¯ä¸ä¼šæ‹…å¿ƒç‰©è´¨è´¢å¯Œçš„é—®é¢˜çš„å§ã€‚å› ä¸ºç°åœ¨çš„ç¤¾ä¼šæˆ‘çœ‹åˆ°çš„æ˜¯ï¼Œä½ æœ‰èƒ½åŠ›å°±ä¸æ€•åˆ›é€ ä¸äº†è´¢å¯Œï¼Œç¤¾ä¼šä¸Šåˆ°å¤„éœ€è¦è¿™æ ·çš„èƒ½åŠ›ã€‚</p>
<p><strong>æˆ‘çš„ç”Ÿæ´»ï¼Œå…¶å®è¿½ç©¶åˆ°åº•ï¼Œç‰©è´¨ç”Ÿæ´»ä¸èƒ½æå‡çš„æœ€æœ¬è´¨çš„åŸå› ï¼Œå°±æ˜¯è‡ªå·±æ²¡æœ‰è¶³å¤Ÿåˆ›é€ é‚£äº›ç‰©è´¨ç”Ÿæ´»çš„èƒ½åŠ›ã€‚</strong>æˆ‘è™½ç„¶æ²¡æœ‰æŠ±æ€¨è¿‡ç¤¾ä¼šï¼Œä½†æˆ‘ç»å¸¸æŠ±æ€¨è‡ªå·±ä¸ºä»€ä¹ˆæ²¡æœ‰è¿™æ ·ç‰›é€¼çš„èƒ½åŠ›ï¼Ÿ</p>
<p><strong>å¦‚æœçœ‹åˆ°äº†è¿™ä¸€ç‚¹çš„è¯ï¼Œå…¶å®å†…å¿ƒåº”è¯¥æ˜¯æ›´å……æ»¡å¸Œæœ›çš„ã€‚å› ä¸ºèƒ½åŠ›æ˜¯å¯ä»¥é€šè¿‡è‡ªå·±çš„å­¦ä¹ ã€è‡ªå·±çš„æ€è€ƒã€è‡ªå·±çš„è¿›å–å»æå‡çš„ï¼Œæ˜¯çš„ï¼Œæ˜¯æœ‰å¾ˆå¤§çš„å¸Œæœ›çš„ã€‚æ‰€ä»¥ï¼Œä¸ç®¡æ˜¯å¤šç»æœ›å¤šç„¦è™‘çš„æƒ…å†µï¼Œæˆ‘éƒ½è¿˜æ˜¯æœ‰ä¸€ä¸ªåšå®šçš„ä¿¡ä»°çš„ï¼Œå­¦ä¹ æ˜¯ä¸€ç§ä¿¡ä»°ï¼</strong></p>
<p><strong>æˆ‘ä»æ¥æ²¡æœ‰æ»¡è¶³è¿‡è‡ªå·±çš„ç°çŠ¶ï¼Œä»è€Œï¼Œæˆ‘å°±çŸ¥é“ï¼Œæˆ‘ä»æ¥ä¹Ÿä¸èƒ½åœæ­¢è¿›å–ï¼Œåœæ­¢å­¦ä¹ ï¼</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/21/æ¥å°é‡‘çš„ç¬¬ä¸€ä¸ªå¹´ä¼š/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/01/21/æ¥å°é‡‘çš„ç¬¬ä¸€ä¸ªå¹´ä¼š/" itemprop="url">æ¥å°é‡‘çš„ç¬¬ä¸€ä¸ªå¹´ä¼š</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-01-21T01:07:04+08:00">
                2017-01-21
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/01/21/æ¥å°é‡‘çš„ç¬¬ä¸€ä¸ªå¹´ä¼š/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/01/21/æ¥å°é‡‘çš„ç¬¬ä¸€ä¸ªå¹´ä¼š/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æˆ‘æ˜¯ä¸€ä¸ªçˆ±å“­çš„å¥³å­©ï¼Œä¸ç®¡ä½ æ˜¯çœ‹åˆ°æˆ‘å“ªä¸€é¢çš„äººï¼Œæˆ‘éƒ½å¾—æ‰¿è®¤ï¼Œ<strong>æˆ‘å¾ˆçˆ±å“­</strong>ã€‚æ›¾ç»å› ä¸ºè¿™ä¸ªéƒ½æƒ³æ‰¾ä¸ªå¿ƒç†åŒ»ç”Ÿçœ‹çœ‹ã€‚</p>
<p>å—¯ï¼Œæˆ‘å†™ä¸‹è¿™ç¬¬ä¸€å¥è¯çš„æ—¶å€™å°±å™™ç€æ³ªæ°´ï¼Œå› ä¸ºæ­¤åˆ»ï¼Œæˆ‘è¿˜åœ¨ä¸ºè‡ªå·±æ¥åˆ°å°é‡‘çš„ç¬¬ä¸€ä¸ªå¹´ä¼šæ„ŸåŠ¨ç€ï¼Œä¸ºè‡ªå·±è¿™ä¸‰ä¸ªæœˆä»¥æ¥å—åˆ°çš„å¸®åŠ©æ„ŸåŠ¨ç€ï¼Œä¸ºè‡ªå·±æ¥åˆ°äº†æ£’æ£’çš„å›¢é˜Ÿæ„ŸåŠ¨ç€ã€‚<strong>æˆ‘è§‰å¾—è‡ªå·±ç”Ÿå¹³ç¬¬ä¸€æ¬¡è¢«ä¸€ä¸ªå…¬å¸è‚¯å®šã€‚æˆ‘ä»¥æœ€çœŸå®çš„é¢è²Œé¢è¯•ä¸Šäº†è¿™å®¶å¦‚æ­¤æ£’çš„å…¬å¸ï¼Œå¹¶ä¸”äº«å—ç€åœ¨è¿™é‡Œçš„æ—¶å…‰ã€‚</strong></p>
<p>ä»åˆšé¢è¯•çš„æ—¶å€™ï¼Œæ–¹æ–¹å’Œaliceå¯¹æˆ‘çš„è‚¯å®šï¼Œç»™æˆ‘ pair çš„æ™“å³°å¯¹æˆ‘çš„è‚¯å®šï¼Œä»¥åŠåæ¥å§œå§ã€å®¶éª¥ã€æ³¢æ³¢ã€ä¸œä¸œï¼Œä»–ä»¬å¯¹æˆ‘çš„å¸®åŠ©ï¼Œè®©æˆ‘çš„ rails å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›å¾—ä»¥è¿›æ­¥å’Œæé«˜ã€‚å¤§å®¶åº”è¯¥èƒ½æ„Ÿå—åˆ°ï¼Œå¯¹äºåˆšè¿›å…¥å…¬å¸å¹¶ä¸”æŠ€æœ¯å¾ˆè–„å¼±çš„æˆ‘æ¥è¯´ï¼Œè¿™äº›è‚¯å®šå’Œå¸®åŠ©éƒ½ç»™äº†æˆ‘å¤šå¤§é¼“èˆå’Œæ„ŸåŠ¨ã€‚ä¸€æ¬¡æ¬¡é¢ä¸´å…·ä½“é—®é¢˜çš„æ—¶å€™ï¼Œéƒ½æ˜¯ä»–ä»¬åœ¨æˆ‘æœ€ç€æ€¥çš„æ—¶åˆ»ç»™æˆ‘æç¤ºï¼Œå¸®æˆ‘ä¸€èµ·è§£å†³é—®é¢˜ï¼Œæˆ‘è¯ç©·ï¼Œè²Œä¼¼æˆ‘è¯´çš„éƒ½è¡¨è¾¾ä¸å‡ºè¿™å…¶ä¸­çš„æ»‹å‘³ã€‚æ¯ä¸€æ¬¡è§£å†³é—®é¢˜åéƒ½èƒ½è®©æˆ‘å…´å¥‹å¥½ä¸€é˜µå­ã€‚</p>
<p>å°é‡‘çš„æ¯ä¸ªäººéƒ½å¾ˆæœ‰ç‰¹ç‚¹ï¼Œæˆ‘æƒ³å°±åƒä»Šå¤©æ˜¥é›·ä»–ä»¬è¡¨æ¼”çš„æ®µå­ä¸€æ ·ï¼Œæ¯ä¸ªäººéƒ½èƒ½æŒ‘å‡ºæ¥è¯´çš„å²‚æ­¢æ˜¯è™šæ„çš„æ®µå­ï¼Œå°é‡‘å……æ»¡æ¬¢ä¹ï¼Œå……æ»¡æ­£èƒ½é‡ï¼Œä¹Ÿè®©æˆ‘è§‰å¾—æ¥åˆ°å°é‡‘å¾ˆå¹¸è¿å¾ˆå¹¸ç¦ã€‚<strong>ä¸‰äººè¡Œå¿…æœ‰æˆ‘å¸ˆï¼Œæˆ‘è§‰å¾—å°é‡‘çš„æ¯ä½å‘˜å·¥ï¼Œéƒ½æœ‰å€¼å¾—æˆ‘å­¦ä¹ çš„åœ°æ–¹ã€‚</strong></p>
<p>æˆ‘å›åŒ—äº¬è·Ÿä¸€èµ·åŸ¹è®­çš„åŒå­¦æœ‰èšä¼šè¿‡ï¼Œæˆ‘è§‰å¾—ä»–ä»¬éƒ½å¾ˆä¼˜ç§€ï¼Œä½†æ˜¯è²Œä¼¼å’Œä»¥å‰çš„æœ‹å‹ä¸€æ ·çš„æ˜¯å°‘ä¸äº†å¯¹å…¬å¸çš„æŠ±æ€¨ï¼Œ<strong>ä½†æ˜¯æˆ‘å¾ˆéª„å‚²ï¼Œæˆ‘åœ¨é¥­æ¡Œä¸ŠæŠŠå°é‡‘å¤¸äº†ä¸€éï¼Œæˆ‘è¯´ä¸ºä»€ä¹ˆæˆ‘åœ¨çš„å›¢é˜Ÿè¶…çº§æ£’ï¼Œæ ¹æœ¬æ²¡æœ‰ä½ ä»¬è¯´çš„è¿™äº›é—®é¢˜ï¼Ÿä»–ä»¬æˆ–è®¸ä¼šç¾¡æ…•æˆ‘å¾…çš„å›¢é˜Ÿå§ã€‚å¹¸ç¦ingâ€¦</strong></p>
<p>åƒé¢˜ç›®å¼€å¤´è¯´çš„ï¼Œæˆ‘çˆ±å“­ï¼Œå¹´ä¼šå¤§å®¶ä¸€èµ· happy çš„æ—¶å€™æˆ‘æƒ³å“­ï¼Œå®¶äººå›¢åœ†çš„æ—¶å€™æˆ‘æƒ³å“­ï¼Œå—åˆ°äº†ä¸€ç‚¹é¼“èˆæˆ‘ä¼šå“­ã€‚<strong>æˆ–è®¸æˆ‘å°±æ˜¯è¿™æ ·å®¹æ˜“å—åˆ°æ„ŸåŠ¨ï¼Œä½†æ˜¯è¿™æ ·ä¼¼ä¹ä¹Ÿå¾ˆå¥½ï¼Œè®©æˆ‘æ„Ÿå—åˆ°å¾ˆå¤šæš–æš–çš„æƒ…è°Šã€‚</strong></p>
<p>2017ï¼Œè®©æˆ‘å’Œå°é‡‘ä¸€èµ·æˆé•¿ï¼</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/25/gem wicked_pdf çš„ä½¿ç”¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/25/gem wicked_pdf çš„ä½¿ç”¨/" itemprop="url">gem wicked_pdf çš„ä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-12-25T21:01:04+08:00">
                2016-12-25
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/12/25/gem wicked_pdf çš„ä½¿ç”¨/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/12/25/gem wicked_pdf çš„ä½¿ç”¨/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒ github ç½‘å€ï¼š<a href="">https://github.com/mileszs/wicked_pdf</a><br>æ³¨ï¼šæˆ‘çš„æ˜¯ gem â€˜railsâ€™, â€˜~&gt; 4.2â€™ï¼Œæ‰€ä»¥githubå®˜ç½‘ä¸Šæœ‰äº›é…ç½®ä¸éœ€è¦é…ç½®<br>å‚è€ƒé“¾æ¥:<br> <a href="https://reinteractive.com/posts/270-wickedpdf-and-custom-fonts-in-rails" target="_blank" rel="external">https://reinteractive.com/posts/270-wickedpdf-and-custom-fonts-in-rails</a><br> <a href="http://cnedelcu.blogspot.com/2015/04/wkhtmltopdf-chinese-character-support.html" target="_blank" rel="external">http://cnedelcu.blogspot.com/2015/04/wkhtmltopdf-chinese-character-support.html</a><br> <a href="https://blog.ragnarson.com/2014/01/13/generating-pdfs-with-custom-fonts-using-wkhtmltopdf.html" target="_blank" rel="external">https://blog.ragnarson.com/2014/01/13/generating-pdfs-with-custom-fonts-using-wkhtmltopdf.html</a></p>
<p>1.æ·»åŠ  gem åˆ° Gemfile</p>
<figure class="highlight rb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">gem <span class="string">'wkhtmltopdf-binary'</span> <span class="comment">#(wicked_pdf ä¾èµ–è¿™ä¸ª gem)</span></div><div class="line">gem <span class="string">'wicked_pdf'</span></div><div class="line"><span class="string">``</span><span class="string">`  </span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">2.ç»ˆç«¯æ‰§è¡Œ `</span>rails generate wicked_pdf<span class="string">`,è¿™ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ `</span>config/initializers/wicked_pdf.rb<span class="string">`</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">3.åœ¨ controller ä¸­åŠ å…¥ format.pdf, å¦‚æœæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„æ ·å¼ï¼Œpdf å’Œ html å¼•å…¥çš„ js å’Œ css éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå› ä¸ºè¦åŠ å…¥ wicked_pdf çš„ tagï¼Œæ‰€ä»¥æˆ‘åŒºåˆ†äº†ä¸¤ä¸ª layout</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">`</span><span class="string">``</span>rb</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThingsController</span> &lt; ApplicationController</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span></span></div><div class="line">    respond_to <span class="keyword">do</span> <span class="params">|format|</span></div><div class="line">      format.html <span class="keyword">do</span></div><div class="line">        load_exam_entry</div><div class="line">        render <span class="string">'show'</span>, <span class="symbol">layout:</span> <span class="string">'exams'</span></div><div class="line">      <span class="keyword">end</span></div><div class="line">      format.pdf <span class="keyword">do</span></div><div class="line">        load_exam_entry</div><div class="line">        render <span class="symbol">pdf:</span> <span class="string">"file_name"</span>,<span class="symbol">layout:</span> <span class="string">'exams_pdf'</span>   <span class="comment"># Excluding ".pdf" extension.</span></div><div class="line">      <span class="keyword">end</span></div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>4.<code>layout: &#39;exams_pdf&#39;</code> çš„é…ç½®, ä¿®æ”¹çš„åœ°æ–¹å°±æ˜¯æŠŠ <code>&lt;%= stylesheet_link_tag &#39;exams&#39; %&gt;
  &lt;%= javascript_include_tag &#39;exams&#39; %&gt;</code> æ”¹æˆ <code>&lt;%= wicked_pdf_stylesheet_link_tag &#39;exams&#39; %&gt;
  &lt;%= wicked_pdf_javascript_include_tag &#39;exams&#39; %&gt;</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> (@<span class="attr">exam.try</span> <span class="attr">:paper</span>)<span class="attr">.try</span>(<span class="attr">:name</span>) || 'è€ƒè¯•ç»“æŸ' %&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">'utf-8'</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">%=</span> <span class="attr">favicon_link_tag</span>('<span class="attr">favicon.ico</span>') %&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">%=</span> <span class="attr">wicked_pdf_stylesheet_link_tag</span> '<span class="attr">exams</span>' %&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">%=</span> <span class="attr">wicked_pdf_javascript_include_tag</span> '<span class="attr">exams</span>' %&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">%=</span>  <span class="attr">render</span> '<span class="attr">shared</span>/<span class="attr">track</span>/<span class="attr">site_master</span>' %&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">%=</span> <span class="attr">csrf_meta_tags</span> %&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">%=</span> <span class="attr">yield</span> %&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>5.ä»¥ä¸Šå››æ­¥å°±å¯ä»¥é¢„è§ˆ pdf ï¼›</p>
<p>6.è¿™é‡ŒåŠ ä¸Š <code>dpi: 72</code> å¯ä»¥åŠ å¿«ç”Ÿæˆé€Ÿåº¦ï¼Œ<code>disposition: &#39;attachment&#39;</code> è¿™ä¸ªæ˜¯ä½œä¸ºé™„ä»¶ä¸‹è½½ï¼Œè€Œä¸æ˜¯ç½‘é¡µé¢„è§ˆã€‚</p>
<figure class="highlight rb"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">render <span class="symbol">pdf:</span> file_name,<span class="symbol">layout:</span> <span class="string">'exams_pdf'</span>, <span class="symbol">encoding:</span> <span class="string">'UTF-8'</span>, <span class="symbol">dpi:</span> <span class="number">72</span>, <span class="symbol">disposition:</span> <span class="string">'attachment'</span></div></pre></td></tr></table></figure>
<p>7.ç”±äº <code>wkhtmltopdf</code> æ˜¯ä¾èµ–ç³»ç»Ÿçš„å­—ä½“ç”Ÿæˆ pdf ï¼Œæ‰€ä»¥è¦åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ç›¸åº”å­—ä½“ï¼Œä¸ç„¶åˆ° uat æˆ–è€…ç”Ÿäº§ç¯å¢ƒï¼Œæ²¡æœ‰å­—ä½“çš„è¯ï¼Œä¸­æ–‡éƒ½ä¼šæ˜¾ç¤ºæˆå°æ¡†æ¡†ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/19/1. æ€ä¹ˆæŸ¥çœ‹æŸä¸ªæ–¹æ³•çš„åŸä»£ç ï¼Ÿæ¯”å¦‚ simple_form_for/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/19/1. æ€ä¹ˆæŸ¥çœ‹æŸä¸ªæ–¹æ³•çš„åŸä»£ç ï¼Ÿæ¯”å¦‚ simple_form_for/" itemprop="url">é—®é¢˜åˆ—è¡¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-12-19T16:22:04+08:00">
                2016-12-19
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/12/19/1. æ€ä¹ˆæŸ¥çœ‹æŸä¸ªæ–¹æ³•çš„åŸä»£ç ï¼Ÿæ¯”å¦‚ simple_form_for/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/12/19/1. æ€ä¹ˆæŸ¥çœ‹æŸä¸ªæ–¹æ³•çš„åŸä»£ç ï¼Ÿæ¯”å¦‚ simple_form_for/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>æ€ä¹ˆæŸ¥çœ‹æŸä¸ªæ–¹æ³•çš„åŸä»£ç ï¼Ÿæ¯”å¦‚ simple_form_for<br>ç­”ï¼šgithub å•Šï¼Œå…¨ä¸–ç•Œçš„å¼€æºé¡¹ç›®éƒ½åœ¨è¿™é‡Œå•Šã€‚google æœç´¢ simple_form ï¼Œä¼šæŠŠè¿™ä¸ªé¡¹ç›®æ‰€åœ¨çš„ github æ‰¾å‡ºæ¥ã€‚ git clone å‘½ä»¤èƒ½å…‹éš†åˆ°æœ¬åœ°ã€‚æƒ³æ€ä¹ˆçœ‹æ€ä¹ˆçœ‹ï¼Œä½†æ˜¯å› ä¸ºè¿™æ˜¯ gemï¼Œæ‰€ä»¥ç›®å½•ä¼šå’Œæˆ‘ä»¬å†™çš„é¡¹ç›®ç¨å¾®ä¸ä¸€æ ·å§ã€‚</li>
</ol>
<p><img src="http://ww2.sinaimg.cn/large/006tNbRwjw1fa4sevepvtj31kw0x2gtx.jpg" alt=""></p>
<ol>
<li>=&gt;   è¿™ä¸ªç¬¦å·æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ€ä¹ˆä½¿ç”¨ï¼Ÿ<br>ç­”ï¼šè¿™ä¸ªæ˜¯ ruby ä¸­çš„ hash ï¼Œgoogle æœç´¢ å…³é”®è¯ ruby hashï¼Œè·Ÿç€googleå‡ºæ¥çš„å†…å®¹ï¼ŒæŠŠæ¯ä¸€è¡Œä»£ç åœ¨ç»ˆç«¯é‡Œè¾“å…¥è¯•è¯•ã€‚åœ¨ç»ˆç«¯è¾“å…¥ irb ï¼Œå¯ç«‹å³å¼€å¯ ruby è¿è¡Œç¯å¢ƒã€‚</li>
</ol>
<p><img src="http://ww3.sinaimg.cn/large/006tNbRwjw1fa4siq3u5bj30y0082mxu.jpg" alt=""></p>
<ol>
<li>custom route å’Œnamed routeæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br>ç­”ï¼šcustom route æŒ‡çš„æ˜¯è‡ªå®šä¹‰ route å§ï¼Œå°±æ˜¯è‡ªå®šä¹‰è·¯å¾„ã€‚<br>é™¤äº† rails è‡ªåŠ¨å°è£…å¥½çš„é‚£ä¸ƒä¸ªä¹‹å¤–ï¼Œæˆ‘è§‰å¾—éƒ½æ˜¯è‡ªå®šä¹‰ã€‚<br>é¢„è®¾çš„ä¸ƒä¸ª ã€Œ new create edit update delete index show ã€.<br>ä¹‹å¤–çš„éƒ½æ˜¯è‡ªå®šä¹‰çš„å§ã€‚æ¯”å¦‚</li>
</ol>
<p><img src="http://ww4.sinaimg.cn/large/006tNbRwjw1fa6z2j9b1lj30os0caacb.jpg" alt=""></p>
<ol>
<li><p>paramsä¸­çš„æ•°æ®æ˜¯æ€ä¹ˆå¾—åˆ°çš„ï¼Ÿ<br>http è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯ HttpRequest ,åœ¨è¿™ä¸ªé‡Œé¢éƒ½ä¼šæœ‰è¯·æ±‚çš„ä¿¡æ¯ï¼Œåœ¨æ§åˆ¶å°ä¸Šèƒ½çœ‹åˆ°ã€‚params å°±æ˜¯é€šè¿‡ request.getParams è¿™ç§æ–¹æ³•è·å¾—çš„ï¼Œåªä¸è¿‡ rails ç»™è‡ªåŠ¨è·å–äº†ï¼Œæˆ‘ä»¬é€šè¿‡ params[:id] ç›´æ¥å°±èƒ½å¾—åˆ° id çš„å€¼äº†ã€‚</p>
</li>
<li><p>URLå’Œroutes æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br>URL æ˜¯æŒ‡é“¾æ¥ï¼Œroutesæ˜¯æŒ‡è·¯ç”±ã€‚<br>æ¯”å¦‚ï¼š<a href="http://localhost:8081/paper/form_setting/56/edit" target="_blank" rel="external">http://localhost:8081/paper/form_setting/56/edit</a> è¿™æ˜¯ urlï¼Œ<br>routesæŒ‡çš„æ˜¯ routes.rb ä¸­é‚£äº›è·¯ç”±è®¾ç½®å§ï¼Œä½ çœ‹çœ‹è¿™ä¸ªæ–‡ä»¶å°±æ˜ç™½äº†å§ã€‚</p>
</li>
</ol>
<p><img src="http://ww2.sinaimg.cn/large/006tNbRwjw1fa6z8y1axaj30x005a3zy.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/30/Using-select-reject-collect-inject-and-detect/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/30/Using-select-reject-collect-inject-and-detect/" itemprop="url">Using select, reject, collect, inject and detect.</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-30T16:40:42+08:00">
                2016-10-30
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/30/Using-select-reject-collect-inject-and-detect/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/30/Using-select-reject-collect-inject-and-detect/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒé“¾æ¥ï¼š<br><a href="http://queirozf.com/entries/ruby-map-each-collect-inject-reject-select-quick-reference" target="_blank" rel="external">http://queirozf.com/entries/ruby-map-each-collect-inject-reject-select-quick-reference</a></p>
<p><a href="http://matthewcarriere.com/2008/06/23/using-select-reject-collect-inject-and-detect/" target="_blank" rel="external">http://matthewcarriere.com/2008/06/23/using-select-reject-collect-inject-and-detect/</a></p>
<h2 id="for-éå†æ•°ç»„-ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ "><a href="#for-éå†æ•°ç»„-ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ " class="headerlink" title="for éå†æ•°ç»„ ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ "></a>for éå†æ•°ç»„ ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ </h2><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line"><span class="keyword">for</span> n <span class="keyword">in</span> a</div><div class="line">  puts n</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p><img src="http://ww2.sinaimg.cn/large/72f96cbajw1f9anecw702j20h809c3z2.jpg" alt=""></p>
<p>è¿™ä¸ªå¯ä»¥ workï¼Œä½† not veryâ€¦ Ruby.<br>ä¸‹é¢è¿™ä¸ªæ‰æ˜¯ï¼Œruby ä¸­çš„ <code>iterator</code> ã€‚</p>
<h2 id="each-éå†æ•°ç»„-ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ "><a href="#each-éå†æ•°ç»„-ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ " class="headerlink" title="each éå†æ•°ç»„ ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ "></a>each éå†æ•°ç»„ ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ </h2><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a.each <span class="keyword">do</span> <span class="params">|n|</span></div><div class="line">  puts n</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f9anf9hs8oj20g808mmxl.jpg" alt=""></p>
<h2 id="Building-a-list-of-items-from-the-array-using-select"><a href="#Building-a-list-of-items-from-the-array-using-select" class="headerlink" title="Building a list of items from the array using select"></a><strong>Building a list of items from the array using select</strong></h2><h3 id="select-è¿”å›ç¬¦åˆæ¡ä»¶çš„-array"><a href="#select-è¿”å›ç¬¦åˆæ¡ä»¶çš„-array" class="headerlink" title="select , è¿”å›ç¬¦åˆæ¡ä»¶çš„ array"></a>select , è¿”å›ç¬¦åˆæ¡ä»¶çš„ array</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.select &#123;<span class="params">|n|</span> n &gt; <span class="number">2</span>&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f9angg6yq5j20ma046aad.jpg" alt=""></p>
<h3 id="rejectï¼Œè¿”å›ä¸ç¬¦åˆæ¡ä»¶çš„-array"><a href="#rejectï¼Œè¿”å›ä¸ç¬¦åˆæ¡ä»¶çš„-array" class="headerlink" title="rejectï¼Œè¿”å›ä¸ç¬¦åˆæ¡ä»¶çš„ array"></a>rejectï¼Œè¿”å›ä¸ç¬¦åˆæ¡ä»¶çš„ array</h3><p><strong>reject å½“ n&gt;2 ä¸º false æ—¶æ‰ä¼šreturn</strong></p>
<p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.reject &#123;<span class="params">|n|</span> n &gt; <span class="number">2</span>&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f9anig81y1j20jo04wwew.jpg" alt=""></p>
<h3 id="collectï¼Œè¿”å›-è¿ç®—-åçš„-array"><a href="#collectï¼Œè¿”å›-è¿ç®—-åçš„-array" class="headerlink" title="collectï¼Œè¿”å› è¿ç®— åçš„ array"></a>collectï¼Œè¿”å› è¿ç®— åçš„ array</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.collect &#123;<span class="params">|n|</span> n*n&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww3.sinaimg.cn/large/72f96cbajw1f9anjd0q3xj20ku04wt94.jpg" alt=""></p>
<h2 id="Total-the-items-in-an-array-using-inject"><a href="#Total-the-items-in-an-array-using-inject" class="headerlink" title="Total the items in an array using inject"></a>Total the items in an array using inject</h2><h3 id="inject-ï¼Œsum-æ‰€æœ‰å…ƒç´ å¹¶è¿”å›è®¡ç®—ç»“æœ"><a href="#inject-ï¼Œsum-æ‰€æœ‰å…ƒç´ å¹¶è¿”å›è®¡ç®—ç»“æœ" class="headerlink" title="inject ï¼Œsum æ‰€æœ‰å…ƒç´ å¹¶è¿”å›è®¡ç®—ç»“æœ"></a>inject ï¼Œsum æ‰€æœ‰å…ƒç´ å¹¶è¿”å›è®¡ç®—ç»“æœ</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.inject &#123;<span class="params">|acc,n|</span> acc + n&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww2.sinaimg.cn/large/72f96cbajw1f9anki7az0j20kw04w3yy.jpg" alt=""></p>
<h3 id="inject-with-parameterï¼Œå¸¦åˆå§‹å‚æ•°ï¼Œä»å‚æ•°å¼€å§‹ç´¯è®¡ï¼Œè®¡ç®—å¹¶è¿”å›"><a href="#inject-with-parameterï¼Œå¸¦åˆå§‹å‚æ•°ï¼Œä»å‚æ•°å¼€å§‹ç´¯è®¡ï¼Œè®¡ç®—å¹¶è¿”å›" class="headerlink" title="inject with parameterï¼Œå¸¦åˆå§‹å‚æ•°ï¼Œä»å‚æ•°å¼€å§‹ç´¯è®¡ï¼Œè®¡ç®—å¹¶è¿”å›"></a>inject with parameterï¼Œå¸¦åˆå§‹å‚æ•°ï¼Œä»å‚æ•°å¼€å§‹ç´¯è®¡ï¼Œè®¡ç®—å¹¶è¿”å›</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.inject(<span class="number">10</span>) &#123;<span class="params">|acc,n|</span> acc + n&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f9annbo0dgj20k0050t94.jpg" alt=""></p>
<h3 id="inject-return-an-array"><a href="#inject-return-an-array" class="headerlink" title="inject return an array"></a>inject return an array</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.inject([]) &#123;<span class="params">|acc,n|</span> acc &lt;&lt; n+n&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f9anp5uxiwj20m804yaaj.jpg" alt=""></p>
<h2 id="Find-an-item-in-the-array-using-detect"><a href="#Find-an-item-in-the-array-using-detect" class="headerlink" title="Find an item in the array using detect"></a>Find an item in the array using detect</h2><h3 id="detect-æŸ¥æ‰¾ä¸€é¡¹"><a href="#detect-æŸ¥æ‰¾ä¸€é¡¹" class="headerlink" title="detect æŸ¥æ‰¾ä¸€é¡¹"></a>detect æŸ¥æ‰¾ä¸€é¡¹</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.detect &#123;<span class="params">|n|</span> n == <span class="number">3</span>&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww4.sinaimg.cn/large/72f96cbajw1f9aos0zsmfj20h403y3yq.jpg" alt=""></p>
<p>è¿”å› 3ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å› <code>nil</code> ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/25/æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/25/æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚/" itemprop="url">æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ® load åˆ°æ–°æ•°æ®åº“(æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-25T16:42:40+08:00">
                2016-10-25
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/25/æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/25/æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚"><a href="#æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚" class="headerlink" title="æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ® load åˆ°æ–°æ•°æ®åº“(æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚)"></a>æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ® load åˆ°æ–°æ•°æ®åº“(æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚)</h1><ol>
<li><p>å®‰è£… <code>gem &#39;yaml_db&#39;</code><br>ç…§ä¾‹ï¼š<br> <code>Gemfile</code> ä¸­ åŠ å…¥ <code>gem &#39;yaml_db&#39;</code> å¹¶ <code>bundle</code></p>
</li>
<li><p>åœ¨æ—§çš„æ•°æ®åº“ç¯å¢ƒä¸‹ï¼ˆ database.yml è¿æ¥å¯¹åº”çš„æ•°æ®åº“ï¼‰ï¼Œè¿è¡Œ <code>rake db:data:dump</code>,ä¼šç”Ÿæˆæ–‡ä»¶ <code>db/data.yml</code>ã€‚è¿™ä¸ªé‡Œé¢ä¼šæŠŠæ•°æ®å¯¼å‡ºæˆæ•°ç»„æ ¼å¼ã€‚<br> å¦‚ä¸‹ï¼š</p>
 <figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">users:</span></div><div class="line">  <span class="symbol">columns:</span></div><div class="line">  - id</div><div class="line">  - email</div><div class="line">  - nickname</div><div class="line">  - created_at</div><div class="line">  - updated_at</div><div class="line">  <span class="symbol">records:</span></div><div class="line">  - - <span class="number">1</span></div><div class="line">    - a@a.com</div><div class="line">    - <span class="number">1</span></div><div class="line">    - ss</div><div class="line">    - <span class="string">'2016-10-25 11:35:41'</span></div><div class="line">    - <span class="string">'2016-10-25 14:26:11'</span></div></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£… <code>gem &#39;bulk_insert&#39;</code><br> ç…§ä¾‹ï¼š<br> <code>Gemfile</code> ä¸­ åŠ å…¥ <code>gem &#39;bulk_insert&#39;</code> å¹¶ <code>bundle</code></p>
</li>
<li><p>åœ¨æ–°çš„æ•°æ®åº“ç¯å¢ƒä¸‹ï¼ˆä¿®æ”¹database.ymlè¿æ¥å¯¹åº”çš„æ•°æ®åº“ï¼‰ï¼Œå†™ task ï¼Œè¯»å–data.ymlæ–‡ä»¶ï¼Œå¹¶å†™å…¥æ–°çš„æ•°æ®åº“ã€‚<br> <code>rake -T</code> å¯ä»¥æŸ¥çœ‹æ‰€æœ‰ rake å‘½ä»¤ï¼Œæ‰¾åˆ°è‡ªå·±çš„ rake å‘½ä»¤ å¹¶æ‰§è¡Œ(æœ¬ä¾‹ï¼š<code>rake new_db:new_db_load</code>)ã€‚</p>
<p> task ä»£ç ï¼š</p>
<p> æ–‡ä»¶ç›®å½•ï¼š<code>lib/tasks/new_db_migration.rake</code></p>
 <figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">namespace <span class="symbol">:new_db</span> <span class="keyword">do</span></div><div class="line">  desc <span class="string">'migrate old db data to new db'</span></div><div class="line">  task <span class="symbol">:new_db_load</span> =&gt; <span class="symbol">:environment</span> <span class="keyword">do</span></div><div class="line"></div><div class="line">    old_db = YAML.load_file(<span class="string">'db/data.yml'</span>)</div><div class="line"></div><div class="line">    User.bulk_insert(<span class="symbol">set_size:</span> <span class="number">100</span>) <span class="keyword">do</span> <span class="params">|worker|</span></div><div class="line">      old_db[<span class="string">'users'</span>][<span class="string">'records'</span>].each <span class="keyword">do</span> <span class="params">|record|</span></div><div class="line">        worker.add(</div><div class="line">            <span class="symbol">id:</span> record[<span class="number">0</span>], <span class="symbol">email:</span> record[<span class="number">1</span>], <span class="symbol">status:</span> (record[<span class="number">2</span>] == <span class="number">1</span>), <span class="symbol">nick_name:</span> record[<span class="number">3</span>], <span class="symbol">created_at:</span> record[<span class="number">4</span>], <span class="symbol">updated_at:</span> record[<span class="number">5</span>]</div><div class="line">        )</div><div class="line">      <span class="keyword">end</span></div><div class="line">    <span class="keyword">end</span></div><div class="line"></div><div class="line">    puts <span class="string">'user finish'</span></div><div class="line"></div><div class="line">    puts <span class="string">'done!'</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p> ä¸Šé¢æˆ‘åšçš„å˜æ›´æ˜¯ <code>status</code> ï¼ŒåŸæ¥æ˜¯ 0 æˆ–è€…1 ï¼Œç°åœ¨æ”¹æˆ true æˆ– false ï¼Œé€šè¿‡ <code>status: (record[2] == 1)</code> æ¥ç¬¦åˆæ–°çš„ç»“æ„ã€‚å…¶ä½™çš„å˜æ›´éƒ½å¯ä»¥ç±»ä¼¼å¤„ç†ã€‚</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/24/gem-gaffe-å¼‚å¸¸é¡µé¢ç¾åŒ–/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/24/gem-gaffe-å¼‚å¸¸é¡µé¢ç¾åŒ–/" itemprop="url">gem 'gaffe' å¼‚å¸¸é¡µé¢ç¾åŒ–</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-24T22:49:26+08:00">
                2016-10-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/24/gem-gaffe-å¼‚å¸¸é¡µé¢ç¾åŒ–/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/24/gem-gaffe-å¼‚å¸¸é¡µé¢ç¾åŒ–/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒé“¾æ¥ï¼š<a href="https://github.com/mirego/gaffe" target="_blank" rel="external">https://github.com/mirego/gaffe</a></p>
<p>step1.  gem â€˜gaffeâ€™</p>
<p>step2.  bundle install</p>
<p>step3. åœ¨ <code>config/initializers/gaffe.rb</code> ä¸­å†™å…¥</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># config/initializers/gaffe.rb</span></div><div class="line">Gaffe.configure <span class="keyword">do</span> <span class="params">|config|</span></div><div class="line">  config.errors_controller = <span class="string">'ErrorsController'</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">Gaffe.enable!</div></pre></td></tr></table></figure>
<p>step4. åˆ›å»º<code>ErrorsController</code></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ErrorsController</span> &lt; ApplicationController</span></div><div class="line">  <span class="keyword">include</span> Gaffe::Errors</div><div class="line"></div><div class="line">  <span class="comment"># Make sure anonymous users can see the page</span></div><div class="line">  skip_before_action <span class="symbol">:authenticate_user!</span></div><div class="line"></div><div class="line">  <span class="comment"># Override 'error' layout</span></div><div class="line">  layout <span class="string">'application'</span></div><div class="line"></div><div class="line">  <span class="comment"># Render the correct template based on the exception â€œstandardâ€ code.</span></div><div class="line">  <span class="comment"># Eg. For a 404 error, the `errors/not_found` template will be rendered.</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span></span></div><div class="line">    <span class="comment"># Here, the `<span class="doctag">@exception</span>` variable contains the original raised error</span></div><div class="line">    render <span class="string">"errors/<span class="subst">#&#123;@rescue_response&#125;</span>"</span>, <span class="symbol">status:</span> @status_code</div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>step5. åˆ›å»ºè‡ªå·±çš„ï¼ˆä¹Ÿå¯ä»¥ç”¨å®ƒé»˜è®¤çš„ï¼‰ï¼Œç›®å½•ä¸º<code>views/errors/not_found.erb</code> è¿™ç§ã€‚å¦‚ä¸‹å›¾æ˜¯è¿™ä¸ªgemçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¦†ç›–ï¼š</p>
<p><img src="http://ww3.sinaimg.cn/large/801b780ajw1f93pc5yca4j20oq0p4n0i.jpg" alt=""></p>
<p>step6. ä¿®æ”¹<code>config/environments/development.rb</code>ï¼Œå¯ä»¥çœ‹åˆ°æŠ¥é”™çš„é¡µé¢éƒ½ä¼šç»™ç‰¹å®šçš„é¡µé¢ï¼Œæ¯”å¦‚404.erbç­‰ï¼Œä½†æ˜¯åœ¨å¼€å‘æˆ–è€…æµ‹è¯•ç¯å¢ƒè¿˜æ˜¯ä¸è¦è®¾ç½®ï¼Œå› ä¸ºé”™è¯¯ä¿¡æ¯çœ‹ä¸åˆ°ï¼Œæˆ‘ä»¬è‡ªå·±ä¸å¥½çœ‹é”™è¯¯ã€‚(Rails prefers to render its own debug-friendly errors in the development environment, which is totally understandable. However, if you want to test Gaffeâ€™s behavior in development youâ€™ll have to edit the config/environments/development.rb file.)<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Make Rails use `exceptions_app` in development</span></div><div class="line">config.consider_all_requests_local = <span class="literal">false</span></div></pre></td></tr></table></figure></p>
<p>æµ‹è¯•ç¯å¢ƒå¯ä»¥è¿™æ ·å¹²ï¼š<br><code>config/environments/test.rb</code><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Make Rails use `exceptions_app` in tests</span></div><div class="line">config.consider_all_requests_local = <span class="literal">false</span></div><div class="line"></div><div class="line"><span class="comment"># Render exceptions instead of raising them</span></div><div class="line">config.action_dispatch.show_exceptions = <span class="literal">true</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/24/jquery-fileupload-ä¸Šä¼ /">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/24/jquery-fileupload-ä¸Šä¼ /" itemprop="url">jquery fileupload ä¸Šä¼ </a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-24T22:33:02+08:00">
                2016-10-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/24/jquery-fileupload-ä¸Šä¼ /#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/24/jquery-fileupload-ä¸Šä¼ /" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒé“¾æ¥ï¼š<a href="https://github.com/carrierwaveuploader/carrierwave" target="_blank" rel="external">https://github.com/carrierwaveuploader/carrierwave</a></p>
<h2 id="ä½¿ç”¨-jquery-fileupload-js-ä¸Šä¼ å›¾ç‰‡"><a href="#ä½¿ç”¨-jquery-fileupload-js-ä¸Šä¼ å›¾ç‰‡" class="headerlink" title="ä½¿ç”¨ jquery.fileupload.js ä¸Šä¼ å›¾ç‰‡"></a>ä½¿ç”¨ <code>jquery.fileupload.js</code> ä¸Šä¼ å›¾ç‰‡</h2><ol>
<li><code>gem &#39;carrierwave&#39; å’Œ gem &#39;mini_magick&#39;</code></li>
<li><code>bundle</code></li>
<li>æ‰§è¡Œ<code>rails generate uploader image</code> ä¼šç”Ÿæˆ<code>app/uploaders/image_uploader.rb</code></li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># encoding: utf-8</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImageUploader</span> &lt; CarrierWave::Uploader::<span class="title">Base</span></span></div><div class="line"></div><div class="line">  <span class="comment"># Include RMagick or MiniMagick support:</span></div><div class="line">  <span class="comment"># include CarrierWave::RMagick</span></div><div class="line">  <span class="keyword">include</span> CarrierWave::MiniMagick</div><div class="line"></div><div class="line"></div><div class="line">  <span class="comment"># Choose what kind of storage to use for this uploader:</span></div><div class="line">  storage <span class="symbol">:file</span></div><div class="line">  <span class="comment"># storage :fog</span></div><div class="line"></div><div class="line">  <span class="comment"># Override the directory where uploaded files will be stored.</span></div><div class="line">  <span class="comment"># This is a sensible default for uploaders that are meant to be mounted:</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">store_dir</span></span></div><div class="line">    <span class="string">"uploads/"</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  process <span class="symbol">resize_to_fit:</span> [<span class="number">800</span>, <span class="number">800</span>]</div><div class="line"></div><div class="line">  version <span class="symbol">:small</span> <span class="keyword">do</span></div><div class="line">    process <span class="symbol">resize_to_fit:</span> [<span class="number">200</span>, <span class="number">200</span>]</div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<ol>
<li>åœ¨<code>controller</code>ä¸­ action å¯ä»¥ä½¿ç”¨<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">uploader = ImageUploader.new</div><div class="line">uploader.store!(my_file)  </div><div class="line">uploader.url <span class="comment"># =&gt; '/url/to/my_file.png'               # size: 800x600</span></div><div class="line">uploader.thumb.url <span class="comment"># =&gt; '/url/to/thumb_my_file.png'   # size: 200x200</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>æˆ‘çš„åœºæ™¯æ˜¯ï¼Œåœ¨é¡µé¢ç”¨jquery uploader åˆ°åé¢actionä¸Šä¼ å›¾ç‰‡ï¼Œå›ä¼ image_url åˆ°é¡µé¢ï¼Œé¡µé¢ç‚¹å‡»ä¿å­˜çš„æ—¶å€™å†ä¿å­˜åˆ°ç›¸å…³çš„æ•°æ®åº“è¡¨ã€‚</p>
<p>è§æˆªå›¾ï¼š</p>
<figure class="highlight rb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImagesController</span> &lt; ApplicationController</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">create</span></span></div><div class="line">    uploader = ImageUploader.new</div><div class="line">    uploader.store!(params[<span class="string">'picture-upload'</span>])</div><div class="line"></div><div class="line">    render <span class="symbol">json:</span> &#123;<span class="symbol">image_url:</span> uploader.small.url&#125;</div><div class="line"></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">pictureUpload</span>(<span class="params">prize</span>)</span>&#123;</div><div class="line">    $(<span class="string">".picture-upload"</span>).click();</div><div class="line">    $<span class="string">".picture-upload"</span>).fileupload(&#123;</div><div class="line">        type:<span class="string">'POST'</span>,</div><div class="line">        url:<span class="string">'/images'</span>,</div><div class="line">        dataType: <span class="string">'json'</span>,</div><div class="line">        singleFileUploads: <span class="literal">true</span>,</div><div class="line">        maxFileSize: <span class="number">2000000</span>,</div><div class="line">        start: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">            $(<span class="string">".progress-upload"</span>).removeClass(<span class="string">'hide'</span>);</div><div class="line">            $(<span class="string">".upload-button i"</span>).addClass(<span class="string">'hide'</span>);</div><div class="line">            $(<span class="string">".upload-button span"</span>).addClass(<span class="string">'hide'</span>);</div><div class="line">        &#125;,</div><div class="line">        progressall: <span class="function"><span class="keyword">function</span>(<span class="params">e, data</span>)</span>&#123;</div><div class="line">            <span class="keyword">var</span> progress = <span class="built_in">parseInt</span>(data.loaded/data.total * <span class="number">100</span>, <span class="number">10</span>);</div><div class="line">            $(<span class="string">".progress-upload .bar"</span>).css(<span class="string">'width'</span>,progress + <span class="string">'%'</span>);</div><div class="line">        &#125;,</div><div class="line">        done: <span class="function"><span class="keyword">function</span>(<span class="params">e, data</span>)</span>&#123;</div><div class="line">            $(<span class="string">".edit-button .prize-picture"</span>).attr(<span class="string">'src'</span>,data.result.image_url);</div><div class="line">            $(<span class="string">".upload-button"</span>).remove();</div><div class="line">            $(<span class="string">".edit-button"</span>).removeClass(<span class="string">'hide'</span>);</div><div class="line">        &#125;,</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/04/ch04-å¯¹è±¡ã€å˜é‡å’Œå¸¸é‡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/04/ch04-å¯¹è±¡ã€å˜é‡å’Œå¸¸é‡/" itemprop="url">ch04 å¯¹è±¡ã€å˜é‡å’Œå¸¸é‡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-04T13:55:32+08:00">
                2016-10-04
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/04/ch04-å¯¹è±¡ã€å˜é‡å’Œå¸¸é‡/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/04/ch04-å¯¹è±¡ã€å˜é‡å’Œå¸¸é‡/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>å¯¹è±¡</li>
<li>ç±»</li>
<li>å˜é‡</li>
<li>å¸¸é‡</li>
</ul>
<h2 id="4-1-å¯¹è±¡"><a href="#4-1-å¯¹è±¡" class="headerlink" title="4.1 å¯¹è±¡"></a>4.1 å¯¹è±¡</h2><p>åœ¨ Ruby ä¸­ï¼Œè¡¨ç°æ•°æ®çš„åŸºæœ¬å•ä½ç§°ä¸ºå¯¹è±¡ï¼ˆobjectï¼‰ã€‚</p>
<ul>
<li><p>æ•°å€¼å¯¹è±¡</p>
<p>  1ã€-10ã€3.1415 ç­‰æ˜¯è¡¨ç¤ºæ•°å­—çš„å¯¹è±¡ï¼Œå¦å¤–è¿˜æœ‰è¡¨ç¤ºçŸ©é˜µã€å¤æ•°ã€ç´ æ•°ã€å…¬å¼çš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>å­—ç¬¦ä¸²å¯¹è±¡</strong></p>
<p>  â€œä½ å¥½â€ã€â€helloâ€ ç­‰è¡¨ç¤ºæ–‡å­—çš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>æ•°ç»„å¯¹è±¡ã€æ•£åˆ—å¯¹è±¡</strong></p>
<p>  è¡¨ç¤ºå¤šä¸ªæ•°æ®çš„é›†åˆçš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡</strong></p>
<p>  è¡¨ç¤ºåŒ¹é…æ¨¡å¼çš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>æ—¶é—´å¯¹è±¡</strong></p>
<p>  æ¯”å¦‚ â€2013å¹´5æœˆ30æ—¥æ—©ä¸Š9ç‚¹â€œ ç­‰è¡¨ç¤ºæ—¶é—´çš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>æ–‡ä»¶å¯¹è±¡</strong></p>
<p>  ä¸€èˆ¬æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºè¡¨ç¤ºæ–‡ä»¶æœ¬èº«çš„å¯¹è±¡ï¼Œä½†ç¡®åˆ‡æ¥è¯´ï¼Œå®ƒæ˜¯å¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œçš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>ç¬¦å·å¯¹è±¡</strong></p>
<p>  è¡¨ç¤ºç”¨äºè¯†åˆ«æ–¹æ³•ç­‰åç§°çš„æ ‡ç­¾çš„å¯¹è±¡ã€‚</p>
</li>
</ul>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œ Ruby è¿˜æœ‰<strong>èŒƒå›´å¯¹è±¡ï¼ˆRangeï¼‰</strong>ã€<strong>å¼‚å¸¸å¯¹è±¡ï¼ˆExceptionï¼‰</strong>ç­‰ã€‚</p>
<h2 id="4-2-ç±»"><a href="#4-2-ç±»" class="headerlink" title="4.2 ç±»"></a>4.2 ç±»</h2><p>Ruby çš„ç±»ï¼ˆclassï¼‰è¡¨ç¤ºçš„å°±æ˜¯å¯¹è±¡çš„ç§ç±»ã€‚</p>
<p>å¯¹è±¡æ‹¥æœ‰ä»€ä¹ˆç‰¹æ€§ï¼Œè¿™äº›éƒ½æ˜¯ç”±ç±»æ¥å†³å®šçš„ã€‚</p>
<p>ä¸‹å›¾æ˜¯åˆšåˆšä»‹ç»è¿‡çš„å¯¹è±¡åŠå…¶æ‰€å±ç±»çš„å¯¹åº”å…³ç³»ï¼ˆè¿™äº›éƒ½æ˜¯ Ruby é»˜è®¤æä¾›çš„ï¼‰ï¼š</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8g1wsprktj30mk0bx75q.jpg" alt=""></p>
<p>ã€Œ XX ç±»çš„å¯¹è±¡ ã€ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šè¯´æˆ <strong>ã€Œ XX ç±»çš„å®ä¾‹ï¼ˆInstanceï¼‰ ã€</strong>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¼šè¯´ ã€Œ å­—ç¬¦ä¸²å¯¹è±¡ <code>foo</code> æ˜¯ String ç±»çš„å®ä¾‹ ã€ã€‚</p>
<h2 id="4-3-å˜é‡"><a href="#4-3-å˜é‡" class="headerlink" title="4.3 å˜é‡"></a>4.3 å˜é‡</h2><p><strong>å˜é‡å°±åƒæ˜¯å¯¹è±¡çš„åç‰‡ã€‚</strong></p>
<p>Ruby ä¸­æœ‰<strong>å››ç§ç±»å‹</strong>çš„å˜é‡ã€‚</p>
<ul>
<li><strong>å±€éƒ¨å˜é‡</strong>ï¼ˆlocal variableï¼‰    </li>
<li><strong>å…¨å±€å˜é‡</strong>ï¼ˆglobal variableï¼‰</li>
<li><strong>å®ä¾‹å˜é‡</strong>ï¼ˆinstance variableï¼‰</li>
<li><strong>ç±»å˜é‡</strong>ï¼ˆclass variableï¼‰</li>
</ul>
<p>å˜é‡çš„<strong>å‘½åæ–¹å¼å†³å®šäº†å˜é‡çš„ç§ç±»</strong>ã€‚</p>
<ul>
<li><strong>å±€éƒ¨å˜é‡<br>  ä»¥è‹±æ–‡å­—æ¯æˆ–è€…_å¼€å¤´</strong></li>
<li><strong>å…¨å±€å˜é‡<br>  ä»¥$å¼€å¤´</strong></li>
<li><strong>å®ä¾‹å˜é‡<br>  ä»¥@å¼€å¤´</strong></li>
<li><strong>ç±»å˜é‡<br>  ä»¥@@å¼€å¤´</strong></li>
</ul>
<p>é™¤ä»¥ä¸Šå››ç§ç±»å‹å¤–ï¼Œè¿˜æœ‰åä¸ºä¼ªå˜é‡ï¼ˆè¿˜æœ‰ä¸€ç§å«é¢„å®šä¹‰å˜é‡ï¼Œä¹¦ä¸­æ²¡æœ‰è¯¦ç»†ä»‹ç»ï¼‰çš„ç‰¹æ®Šå˜é‡ã€‚<br>ä¼ªå˜é‡æ˜¯ Ruby é¢„å…ˆå®šä¹‰å¥½çš„ä»£è¡¨æŸç‰¹å®šå€¼çš„ç‰¹æ®Šå˜é‡ï¼Œå› æ­¤å³ä½¿æˆ‘ä»¬åœ¨ç¨‹åºé‡Œç»™ä¼ªå˜é‡èµ‹å€¼ï¼Œå®ƒçš„å€¼ä¹Ÿä¸ä¼šæ”¹å˜ã€‚Rubyä¸­ï¼Œnilã€trueã€falseã€selfç­‰éƒ½æ˜¯ä¼ªå˜é‡ã€‚å®ƒä»¬è¡¨é¢ä¸Šè™½ç„¶çœ‹ç€åƒå˜é‡ï¼Œä½†å®é™…çš„è¡Œä¸ºåˆä¸å˜é‡æœ‰å·®åˆ«ï¼Œå› æ­¤ç§°ä¸ºä¼ªå˜é‡ã€‚</p>
<p><strong>å±€éƒ¨å˜é‡ä¸å…¨å±€å˜é‡</strong></p>
<p>å±€éƒ¨å˜é‡æ˜¯æŒ‡ å˜é‡åœ¨ç¨‹åºä¸­çš„æœ‰æ•ˆèŒƒå›´ï¼ˆä¹Ÿç§°<strong>å˜é‡çš„ä½œç”¨åŸŸ</strong>ï¼‰æ˜¯å±€éƒ¨çš„ã€‚</p>
<p>å…¨å±€å˜é‡ï¼Œä¸ç®¡å˜é‡åœ¨ç¨‹åºçš„å“ªä¸ªéƒ¨åˆ†ä½¿ç”¨ï¼Œç¨‹åºå°±è®¤ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå˜é‡ã€‚</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8g31t0hwej30fq09kt9w.jpg" alt=""></p>
<p>å±€éƒ¨å˜é‡ä½œç”¨èŒƒå›´åªåœ¨è‡ªå·±æ‰€åœ¨çš„ä»£ç å—ä¸­ã€‚å…¨å±€å˜é‡ä½œç”¨èŒƒå›´åœ¨æ‰€æœ‰ç¨‹åºä¸­ã€‚</p>
<p><strong>ä¸€èˆ¬å¹¶ä¸æ¨èä½¿ç”¨å…¨å±€å˜é‡ã€‚å…¨å±€å˜é‡åœ¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ä¿®æ”¹ï¼Œå› æ­¤åœ¨è§„æ¨¡è¾ƒå¤§çš„ç¨‹åºä¸­ä½¿ç”¨æ—¶ï¼Œä¼šå¢åŠ ç¨‹åºä¸å¿…è¦çš„å¤æ‚åº¦ï¼Œç»™é˜…è¯»ç¨‹åºã€ä¿®æ”¹ç¨‹åºé€ æˆæ„æƒ³ä¸åˆ°çš„éº»çƒ¦ã€‚</strong></p>
<p>é¦–æ¬¡ç»™å±€éƒ¨å˜é‡èµ‹å€¼çš„åŒæ—¶ï¼Œè¯¥å±€éƒ¨å˜é‡å°±è¢«åˆå§‹åŒ–äº†ã€‚å¦‚æœå¼•ç”¨äº†æœªåˆå§‹åŒ–çš„å±€éƒ¨å˜é‡ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f8g39g6j61j30zw0aa40s.jpg" alt=""></p>
<p>å®ä¾‹å˜é‡ä¸ç±»å˜é‡ï¼Œç¬¬8ç« ä¼šè¯¦ç»†è¯´æ˜ã€‚</p>
<h2 id="4-4-å¸¸é‡"><a href="#4-4-å¸¸é‡" class="headerlink" title="4.4 å¸¸é‡"></a>4.4 å¸¸é‡</h2><p>å¸¸é‡çš„ä½œç”¨å’Œå˜é‡ä¸€æ ·ï¼Œæ˜¯æŸä¸ªå¯¹è±¡çš„ ã€Œ åç‰‡ ã€ã€‚<strong>ä¸å˜é‡ä¸åŒçš„æ˜¯ï¼Œå¯¹å·²ç»èµ‹å€¼çš„å¸¸é‡å†è¿›è¡Œèµ‹å€¼æ—¶ï¼ŒRuby ä¼šåšå‡ºè­¦å‘Šã€‚</strong></p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8g3e4m9t6j30pg08kq43.jpg" alt=""></p>
<p>å¸¸é‡ä»¥å¤§å†™è‹±æ–‡å­—æ¯å¼€å¤´ã€‚<br>ä¾‹å¦‚ Ruby çš„è¿è¡Œç‰ˆæœ¬ã€Œ RUBY_VERSION ã€ã€è¿è¡Œå¹³å°ã€Œ RUBY_PLATFORM ã€ã€å‘½ä»¤è¡Œå‚æ•°æ•°ç»„ã€Œ RARGV ã€ç­‰ï¼Œéƒ½æ˜¯ Ruby é¢„å®šä¹‰å¥½çš„å¸¸é‡ã€‚</p>
<h2 id="4-5-ä¿ç•™å­—"><a href="#4-5-ä¿ç•™å­—" class="headerlink" title="4.5 ä¿ç•™å­—"></a>4.5 ä¿ç•™å­—</h2><p>Ruby å…³é”®å­—ä¸€è§ˆè¡¨ï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8g3lcpnimj30si07rdhe.jpg" alt=""></p>
<p>è¿™äº›å…³é”®å­—è¢«ç§°ä¸ºä¿ç•™å­—ï¼Œå¦‚æœç”¨åšå˜é‡åï¼ŒRuby ä¼šæç¤ºæˆ‘ä»¬è¯­æ³•é”™è¯¯ã€‚</p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8g3oko6axj30zw06wt9z.jpg" alt=""></p>
<h2 id="4-6-å¤šé‡èµ‹å€¼"><a href="#4-6-å¤šé‡èµ‹å€¼" class="headerlink" title="4.6 å¤šé‡èµ‹å€¼"></a>4.6 å¤šé‡èµ‹å€¼</h2><p>é™¤äº†ã€Œ å˜é‡ = å€¼ ã€è¿™ç§ç»™å˜é‡èµ‹å€¼çš„æ–¹æ³•ï¼ŒRuby ä¸­è¿˜æä¾›äº†<strong>åªç”¨ä¸€ä¸ªè¡¨è¾¾å¼å°±èƒ½ç»™å¤šä¸ªå˜é‡èµ‹å€¼çš„ç®€ä¾¿æ–¹æ³•</strong>ã€‚</p>
<h3 id="4-6-1"><a href="#4-6-1" class="headerlink" title="4.6.1"></a>4.6.1</h3><p>æ¯”å¦‚ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">a = <span class="number">1</span></div><div class="line">b = <span class="number">2</span></div><div class="line">c = <span class="number">3</span></div><div class="line"></div><div class="line"><span class="comment"># å¯ä»¥ç®€åŒ–ä¸º</span></div><div class="line">a, b, c = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></div></pre></td></tr></table></figure>
<p>å¦‚æœä¸€ç»„ä¸ç›¸å…³çš„å˜é‡è¿›è¡Œå¤šé‡èµ‹å€¼ï¼Œç¨‹åºä¼šå˜çš„éš¾æ‡‚ï¼Œå› æ­¤å»ºè®®<strong>å¯¹å½¼æ­¤ç›¸å…³å˜é‡è¿›è¡Œå¤šé‡èµ‹å€¼</strong>ã€‚</p>
<p>å³ä½¿ = å·å·¦å³ä¸¤è¾¹åˆ—å‡ºçš„æ•°é‡ä¸ç›¸ç­‰ï¼ŒRuby ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a, b, c, d = <span class="number">1</span>, <span class="number">2</span>  </div><div class="line"><span class="comment"># a = 1  b = 2  c = nil  d = nil</span></div></pre></td></tr></table></figure>
<p>å˜é‡éƒ¨åˆ†æ¯”è¾ƒå°‘æ—¶ï¼ŒRuby ä¼šå¿½ç•¥æ‰è¯¥å€¼ï¼Œä¸ä¼šåˆ†é…å¤šä½™çš„å€¼ã€‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a, b, c = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span></div><div class="line"><span class="comment"># a = 1  b = 2  c = 3  4ä¸ä¼šè¢«åˆ†é…</span></div></pre></td></tr></table></figure>
<p>å˜é‡å‰åŠ ä¸Š * ï¼Œè¡¨ç¤º Ruby ä¼šå°†æœªåˆ†é…çš„å€¼å°è£…ä¸ºæ•°ç»„èµ‹å€¼ç»™è¯¥å˜é‡</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">a, b, *c = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span></div><div class="line"><span class="comment"># a = 1  b = 2  c = [3, 4, 5]</span></div><div class="line"></div><div class="line">a, *b, c = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span></div><div class="line"><span class="comment"># a = 1  b = [2, 3, 4]  c = 5</span></div></pre></td></tr></table></figure>
<h3 id="4-6-2-ç½®æ¢å˜é‡çš„å€¼"><a href="#4-6-2-ç½®æ¢å˜é‡çš„å€¼" class="headerlink" title="4.6.2 ç½®æ¢å˜é‡çš„å€¼"></a>4.6.2 ç½®æ¢å˜é‡çš„å€¼</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">a, b = <span class="number">0</span>, <span class="number">1</span></div><div class="line">tmp = a <span class="comment"># æš‚æ—¶ä¿å­˜å˜é‡açš„å€¼</span></div><div class="line">a = b   <span class="comment"># å°†å˜é‡bçš„å€¼èµ‹å€¼ç»™a</span></div><div class="line">b = tmp <span class="comment"># å°†åŸæœ¬å˜é‡açš„å€¼èµ‹å€¼ç»™å˜é‡b</span></div><div class="line">p a, b  <span class="comment"># =&gt; [1, 0]</span></div></pre></td></tr></table></figure>
<p>ä½¿ç”¨å¤šé‡èµ‹å€¼ï¼Œåªéœ€ä¸€è¡Œç¨‹åºå°±æå®šäº†ã€‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a, b = <span class="number">0</span>, <span class="number">1</span></div><div class="line">a, b = b, a <span class="comment"># ç½®æ¢å˜é‡aã€bçš„å€¼</span></div><div class="line">p a, b      <span class="comment"># [1, 0]</span></div></pre></td></tr></table></figure>
<h3 id="4-6-3-è·å–æ•°ç»„çš„å…ƒç´ "><a href="#4-6-3-è·å–æ•°ç»„çš„å…ƒç´ " class="headerlink" title="4.6.3 è·å–æ•°ç»„çš„å…ƒç´ "></a>4.6.3 è·å–æ•°ç»„çš„å…ƒç´ </h3><p>ç”¨æ•°ç»„èµ‹å€¼ï¼Œå·¦è¾¹æœ‰å¤šä¸ªå˜é‡æ—¶ï¼ŒRuby ä¼šè‡ªåŠ¨è·å–æ•°ç»„çš„å…ƒç´ è¿›è¡Œå¤šé‡èµ‹å€¼ã€‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ary = [<span class="number">1</span>, <span class="number">2</span>]</div><div class="line">a, b = ary</div><div class="line">p a     <span class="comment"># =&gt; 1</span></div><div class="line">p b     <span class="comment"># =&gt; 2</span></div></pre></td></tr></table></figure>
<h3 id="4-6-4-è·å–åµŒå¥—æ•°ç»„çš„å…ƒç´ "><a href="#4-6-4-è·å–åµŒå¥—æ•°ç»„çš„å…ƒç´ " class="headerlink" title="4.6.4 è·å–åµŒå¥—æ•°ç»„çš„å…ƒç´ "></a>4.6.4 è·å–åµŒå¥—æ•°ç»„çš„å…ƒç´ </h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ary = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>]</div><div class="line">a, b, c = ary</div><div class="line">p a  <span class="comment"># =&gt; 1</span></div><div class="line">p b  <span class="comment"># =&gt; [2, 3]</span></div><div class="line">p c  <span class="comment"># =&gt; 4</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ary = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>]</div><div class="line">a, (b1, b2), c = ary  <span class="comment"># å¯¹ä¸æ•°ç»„ç»“æ„ç›¸å¯¹åº”çš„å˜é‡èµ‹å€¼</span></div><div class="line">p a   <span class="comment"># =&gt; 1</span></div><div class="line">p b1  <span class="comment"># =&gt; 2</span></div><div class="line">p b2  <span class="comment"># =&gt; 3</span></div><div class="line">p c   <span class="comment"># =&gt; 4</span></div></pre></td></tr></table></figure>
<p>åªè¦ç­‰å·å·¦è¾¹çš„å˜é‡çš„ç»“æ„ä¸æ•°ç»„çš„ç»“æ„ä¸€è‡´ï¼Œå³ä½¿å†å¤æ‚çš„ç»“æ„ï¼Œå¤šé‡èµ‹å€¼éƒ½å¯ä»¥è½»æ¾å¯¹åº”ã€‚</p>
<p>ä¸“æ </p>
<p>ä»¥å˜é‡åå¼€å¤´æ¥å†³å®šå˜é‡çš„ç§ç±»ï¼Œè¿™æ˜¯ Ruby ä¸­å¯¹å˜é‡å‘½åæ—¶å”¯ä¸€è¦åšå†³éµå®ˆçš„è§„åˆ™ã€‚</p>
<p>â— ä¸è¦è¿‡å¤šä½¿ç”¨çœç•¥çš„åç§°</p>
<p>â— <strong>å¯¹äºå¤šä¸ªå•è¯ç»„åˆçš„å˜é‡åï¼Œä½¿ç”¨ _ éš”å¼€å„ä¸ªå•è¯</strong>ï¼Œæˆ–è€…å•è¯ä»¥å¤§å†™å­—æ¯å¼€å¤´<br>   Ruby çš„å˜é‡åå’Œæ–¹æ³•åä½¿ç”¨å‰è€…ï¼Œç±»åå’Œæ¨¡å—åä½¿ç”¨åè€…ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">é™ˆäº‘è‰ m18301662790@gmail.com</p>
              <p class="site-description motion-element" itemprop="description">è®°å½•ä¸€äº›æŠ€æœ¯ç‚¹ï¼Œç•™ä¸‹ä¸€äº›ç”Ÿæ´»æ„Ÿæ‚Ÿ</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">68</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">é™ˆäº‘è‰ m18301662790@gmail.com</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  

    
      <script id="dsq-count-scr" src="https://chenyunli.disqus.com/count.js" async></script>
    

    

  




	





  










  





  

  

  

  

  

  

</body>
</html>
