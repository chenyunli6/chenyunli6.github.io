<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="è®°å½•ä¸€äº›æŠ€æœ¯ç‚¹ï¼Œç•™ä¸‹ä¸€äº›ç”Ÿæ´»æ„Ÿæ‚Ÿ">
<meta property="og:type" content="website">
<meta property="og:title" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
<meta property="og:description" content="è®°å½•ä¸€äº›æŠ€æœ¯ç‚¹ï¼Œç•™ä¸‹ä¸€äº›ç”Ÿæ´»æ„Ÿæ‚Ÿ">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
<meta name="twitter:description" content="è®°å½•ä¸€äº›æŠ€æœ¯ç‚¹ï¼Œç•™ä¸‹ä¸€äº›ç”Ÿæ´»æ„Ÿæ‚Ÿ">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/4/"/>





  <title>è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ç¨‹åºåª›</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/19/1. æ€ä¹ˆæŸ¥çœ‹æŸä¸ªæ–¹æ³•çš„åŸä»£ç ï¼Ÿæ¯”å¦‚ simple_form_for/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/19/1. æ€ä¹ˆæŸ¥çœ‹æŸä¸ªæ–¹æ³•çš„åŸä»£ç ï¼Ÿæ¯”å¦‚ simple_form_for/" itemprop="url">é—®é¢˜åˆ—è¡¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-12-19T16:22:04+08:00">
                2016-12-19
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/12/19/1. æ€ä¹ˆæŸ¥çœ‹æŸä¸ªæ–¹æ³•çš„åŸä»£ç ï¼Ÿæ¯”å¦‚ simple_form_for/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/12/19/1. æ€ä¹ˆæŸ¥çœ‹æŸä¸ªæ–¹æ³•çš„åŸä»£ç ï¼Ÿæ¯”å¦‚ simple_form_for/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>æ€ä¹ˆæŸ¥çœ‹æŸä¸ªæ–¹æ³•çš„åŸä»£ç ï¼Ÿæ¯”å¦‚ simple_form_for<br>ç­”ï¼šgithub å•Šï¼Œå…¨ä¸–ç•Œçš„å¼€æºé¡¹ç›®éƒ½åœ¨è¿™é‡Œå•Šã€‚google æœç´¢ simple_form ï¼Œä¼šæŠŠè¿™ä¸ªé¡¹ç›®æ‰€åœ¨çš„ github æ‰¾å‡ºæ¥ã€‚ git clone å‘½ä»¤èƒ½å…‹éš†åˆ°æœ¬åœ°ã€‚æƒ³æ€ä¹ˆçœ‹æ€ä¹ˆçœ‹ï¼Œä½†æ˜¯å› ä¸ºè¿™æ˜¯ gemï¼Œæ‰€ä»¥ç›®å½•ä¼šå’Œæˆ‘ä»¬å†™çš„é¡¹ç›®ç¨å¾®ä¸ä¸€æ ·å§ã€‚</li>
</ol>
<p><img src="http://ww2.sinaimg.cn/large/006tNbRwjw1fa4sevepvtj31kw0x2gtx.jpg" alt=""></p>
<ol>
<li>=&gt;   è¿™ä¸ªç¬¦å·æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ€ä¹ˆä½¿ç”¨ï¼Ÿ<br>ç­”ï¼šè¿™ä¸ªæ˜¯ ruby ä¸­çš„ hash ï¼Œgoogle æœç´¢ å…³é”®è¯ ruby hashï¼Œè·Ÿç€googleå‡ºæ¥çš„å†…å®¹ï¼ŒæŠŠæ¯ä¸€è¡Œä»£ç åœ¨ç»ˆç«¯é‡Œè¾“å…¥è¯•è¯•ã€‚åœ¨ç»ˆç«¯è¾“å…¥ irb ï¼Œå¯ç«‹å³å¼€å¯ ruby è¿è¡Œç¯å¢ƒã€‚</li>
</ol>
<p><img src="http://ww3.sinaimg.cn/large/006tNbRwjw1fa4siq3u5bj30y0082mxu.jpg" alt=""></p>
<ol>
<li>custom route å’Œnamed routeæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br>ç­”ï¼šcustom route æŒ‡çš„æ˜¯è‡ªå®šä¹‰ route å§ï¼Œå°±æ˜¯è‡ªå®šä¹‰è·¯å¾„ã€‚<br>é™¤äº† rails è‡ªåŠ¨å°è£…å¥½çš„é‚£ä¸ƒä¸ªä¹‹å¤–ï¼Œæˆ‘è§‰å¾—éƒ½æ˜¯è‡ªå®šä¹‰ã€‚<br>é¢„è®¾çš„ä¸ƒä¸ª ã€Œ new create edit update delete index show ã€.<br>ä¹‹å¤–çš„éƒ½æ˜¯è‡ªå®šä¹‰çš„å§ã€‚æ¯”å¦‚</li>
</ol>
<p><img src="http://ww4.sinaimg.cn/large/006tNbRwjw1fa6z2j9b1lj30os0caacb.jpg" alt=""></p>
<ol>
<li><p>paramsä¸­çš„æ•°æ®æ˜¯æ€ä¹ˆå¾—åˆ°çš„ï¼Ÿ<br>http è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯ HttpRequest ,åœ¨è¿™ä¸ªé‡Œé¢éƒ½ä¼šæœ‰è¯·æ±‚çš„ä¿¡æ¯ï¼Œåœ¨æ§åˆ¶å°ä¸Šèƒ½çœ‹åˆ°ã€‚params å°±æ˜¯é€šè¿‡ request.getParams è¿™ç§æ–¹æ³•è·å¾—çš„ï¼Œåªä¸è¿‡ rails ç»™è‡ªåŠ¨è·å–äº†ï¼Œæˆ‘ä»¬é€šè¿‡ params[:id] ç›´æ¥å°±èƒ½å¾—åˆ° id çš„å€¼äº†ã€‚</p>
</li>
<li><p>URLå’Œroutes æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br>URL æ˜¯æŒ‡é“¾æ¥ï¼Œroutesæ˜¯æŒ‡è·¯ç”±ã€‚<br>æ¯”å¦‚ï¼š<a href="http://localhost:8081/paper/form_setting/56/edit" target="_blank" rel="external">http://localhost:8081/paper/form_setting/56/edit</a> è¿™æ˜¯ urlï¼Œ<br>routesæŒ‡çš„æ˜¯ routes.rb ä¸­é‚£äº›è·¯ç”±è®¾ç½®å§ï¼Œä½ çœ‹çœ‹è¿™ä¸ªæ–‡ä»¶å°±æ˜ç™½äº†å§ã€‚</p>
</li>
</ol>
<p><img src="http://ww2.sinaimg.cn/large/006tNbRwjw1fa6z8y1axaj30x005a3zy.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/30/Using-select-reject-collect-inject-and-detect/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/30/Using-select-reject-collect-inject-and-detect/" itemprop="url">Using select, reject, collect, inject and detect.</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-30T16:40:42+08:00">
                2016-10-30
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/30/Using-select-reject-collect-inject-and-detect/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/30/Using-select-reject-collect-inject-and-detect/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒé“¾æ¥ï¼š<br><a href="http://queirozf.com/entries/ruby-map-each-collect-inject-reject-select-quick-reference" target="_blank" rel="external">http://queirozf.com/entries/ruby-map-each-collect-inject-reject-select-quick-reference</a></p>
<p><a href="http://matthewcarriere.com/2008/06/23/using-select-reject-collect-inject-and-detect/" target="_blank" rel="external">http://matthewcarriere.com/2008/06/23/using-select-reject-collect-inject-and-detect/</a></p>
<h2 id="for-éå†æ•°ç»„-ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ "><a href="#for-éå†æ•°ç»„-ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ " class="headerlink" title="for éå†æ•°ç»„ ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ "></a>for éå†æ•°ç»„ ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ </h2><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line"><span class="keyword">for</span> n <span class="keyword">in</span> a</div><div class="line">  puts n</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p><img src="http://ww2.sinaimg.cn/large/72f96cbajw1f9anecw702j20h809c3z2.jpg" alt=""></p>
<p>è¿™ä¸ªå¯ä»¥ workï¼Œä½† not veryâ€¦ Ruby.<br>ä¸‹é¢è¿™ä¸ªæ‰æ˜¯ï¼Œruby ä¸­çš„ <code>iterator</code> ã€‚</p>
<h2 id="each-éå†æ•°ç»„-ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ "><a href="#each-éå†æ•°ç»„-ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ " class="headerlink" title="each éå†æ•°ç»„ ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ "></a>each éå†æ•°ç»„ ï¼Œå¹¶æ‰“å°å‡ºæ¥æ¯ä¸€ä¸ªå…ƒç´ </h2><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a.each <span class="keyword">do</span> <span class="params">|n|</span></div><div class="line">  puts n</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f9anf9hs8oj20g808mmxl.jpg" alt=""></p>
<h2 id="Building-a-list-of-items-from-the-array-using-select"><a href="#Building-a-list-of-items-from-the-array-using-select" class="headerlink" title="Building a list of items from the array using select"></a><strong>Building a list of items from the array using select</strong></h2><h3 id="select-è¿”å›ç¬¦åˆæ¡ä»¶çš„-array"><a href="#select-è¿”å›ç¬¦åˆæ¡ä»¶çš„-array" class="headerlink" title="select , è¿”å›ç¬¦åˆæ¡ä»¶çš„ array"></a>select , è¿”å›ç¬¦åˆæ¡ä»¶çš„ array</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.select &#123;<span class="params">|n|</span> n &gt; <span class="number">2</span>&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f9angg6yq5j20ma046aad.jpg" alt=""></p>
<h3 id="rejectï¼Œè¿”å›ä¸ç¬¦åˆæ¡ä»¶çš„-array"><a href="#rejectï¼Œè¿”å›ä¸ç¬¦åˆæ¡ä»¶çš„-array" class="headerlink" title="rejectï¼Œè¿”å›ä¸ç¬¦åˆæ¡ä»¶çš„ array"></a>rejectï¼Œè¿”å›ä¸ç¬¦åˆæ¡ä»¶çš„ array</h3><p><strong>reject å½“ n&gt;2 ä¸º false æ—¶æ‰ä¼šreturn</strong></p>
<p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.reject &#123;<span class="params">|n|</span> n &gt; <span class="number">2</span>&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f9anig81y1j20jo04wwew.jpg" alt=""></p>
<h3 id="collectï¼Œè¿”å›-è¿ç®—-åçš„-array"><a href="#collectï¼Œè¿”å›-è¿ç®—-åçš„-array" class="headerlink" title="collectï¼Œè¿”å› è¿ç®— åçš„ array"></a>collectï¼Œè¿”å› è¿ç®— åçš„ array</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.collect &#123;<span class="params">|n|</span> n*n&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww3.sinaimg.cn/large/72f96cbajw1f9anjd0q3xj20ku04wt94.jpg" alt=""></p>
<h2 id="Total-the-items-in-an-array-using-inject"><a href="#Total-the-items-in-an-array-using-inject" class="headerlink" title="Total the items in an array using inject"></a>Total the items in an array using inject</h2><h3 id="inject-ï¼Œsum-æ‰€æœ‰å…ƒç´ å¹¶è¿”å›è®¡ç®—ç»“æœ"><a href="#inject-ï¼Œsum-æ‰€æœ‰å…ƒç´ å¹¶è¿”å›è®¡ç®—ç»“æœ" class="headerlink" title="inject ï¼Œsum æ‰€æœ‰å…ƒç´ å¹¶è¿”å›è®¡ç®—ç»“æœ"></a>inject ï¼Œsum æ‰€æœ‰å…ƒç´ å¹¶è¿”å›è®¡ç®—ç»“æœ</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.inject &#123;<span class="params">|acc,n|</span> acc + n&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww2.sinaimg.cn/large/72f96cbajw1f9anki7az0j20kw04w3yy.jpg" alt=""></p>
<h3 id="inject-with-parameterï¼Œå¸¦åˆå§‹å‚æ•°ï¼Œä»å‚æ•°å¼€å§‹ç´¯è®¡ï¼Œè®¡ç®—å¹¶è¿”å›"><a href="#inject-with-parameterï¼Œå¸¦åˆå§‹å‚æ•°ï¼Œä»å‚æ•°å¼€å§‹ç´¯è®¡ï¼Œè®¡ç®—å¹¶è¿”å›" class="headerlink" title="inject with parameterï¼Œå¸¦åˆå§‹å‚æ•°ï¼Œä»å‚æ•°å¼€å§‹ç´¯è®¡ï¼Œè®¡ç®—å¹¶è¿”å›"></a>inject with parameterï¼Œå¸¦åˆå§‹å‚æ•°ï¼Œä»å‚æ•°å¼€å§‹ç´¯è®¡ï¼Œè®¡ç®—å¹¶è¿”å›</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.inject(<span class="number">10</span>) &#123;<span class="params">|acc,n|</span> acc + n&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f9annbo0dgj20k0050t94.jpg" alt=""></p>
<h3 id="inject-return-an-array"><a href="#inject-return-an-array" class="headerlink" title="inject return an array"></a>inject return an array</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.inject([]) &#123;<span class="params">|acc,n|</span> acc &lt;&lt; n+n&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f9anp5uxiwj20m804yaaj.jpg" alt=""></p>
<h2 id="Find-an-item-in-the-array-using-detect"><a href="#Find-an-item-in-the-array-using-detect" class="headerlink" title="Find an item in the array using detect"></a>Find an item in the array using detect</h2><h3 id="detect-æŸ¥æ‰¾ä¸€é¡¹"><a href="#detect-æŸ¥æ‰¾ä¸€é¡¹" class="headerlink" title="detect æŸ¥æ‰¾ä¸€é¡¹"></a>detect æŸ¥æ‰¾ä¸€é¡¹</h3><p>code:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">a.detect &#123;<span class="params">|n|</span> n == <span class="number">3</span>&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww4.sinaimg.cn/large/72f96cbajw1f9aos0zsmfj20h403y3yq.jpg" alt=""></p>
<p>è¿”å› 3ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å› <code>nil</code> ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/25/æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/25/æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚/" itemprop="url">æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ® load åˆ°æ–°æ•°æ®åº“(æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-25T16:42:40+08:00">
                2016-10-25
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/25/æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/25/æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚"><a href="#æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ®-load-åˆ°æ–°æ•°æ®åº“-æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚" class="headerlink" title="æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ® load åˆ°æ–°æ•°æ®åº“(æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚)"></a>æŠŠæ—§çš„æ•°æ®åº“ä¸­çš„æ•°æ® load åˆ°æ–°æ•°æ®åº“(æ–°æ•°æ®åº“è¡¨å­—æ®µæœ‰å·®å¼‚)</h1><ol>
<li><p>å®‰è£… <code>gem &#39;yaml_db&#39;</code><br>ç…§ä¾‹ï¼š<br> <code>Gemfile</code> ä¸­ åŠ å…¥ <code>gem &#39;yaml_db&#39;</code> å¹¶ <code>bundle</code></p>
</li>
<li><p>åœ¨æ—§çš„æ•°æ®åº“ç¯å¢ƒä¸‹ï¼ˆ database.yml è¿æ¥å¯¹åº”çš„æ•°æ®åº“ï¼‰ï¼Œè¿è¡Œ <code>rake db:data:dump</code>,ä¼šç”Ÿæˆæ–‡ä»¶ <code>db/data.yml</code>ã€‚è¿™ä¸ªé‡Œé¢ä¼šæŠŠæ•°æ®å¯¼å‡ºæˆæ•°ç»„æ ¼å¼ã€‚<br> å¦‚ä¸‹ï¼š</p>
 <figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">users:</span></div><div class="line">  <span class="symbol">columns:</span></div><div class="line">  - id</div><div class="line">  - email</div><div class="line">  - nickname</div><div class="line">  - created_at</div><div class="line">  - updated_at</div><div class="line">  <span class="symbol">records:</span></div><div class="line">  - - <span class="number">1</span></div><div class="line">    - a@a.com</div><div class="line">    - <span class="number">1</span></div><div class="line">    - ss</div><div class="line">    - <span class="string">'2016-10-25 11:35:41'</span></div><div class="line">    - <span class="string">'2016-10-25 14:26:11'</span></div></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£… <code>gem &#39;bulk_insert&#39;</code><br> ç…§ä¾‹ï¼š<br> <code>Gemfile</code> ä¸­ åŠ å…¥ <code>gem &#39;bulk_insert&#39;</code> å¹¶ <code>bundle</code></p>
</li>
<li><p>åœ¨æ–°çš„æ•°æ®åº“ç¯å¢ƒä¸‹ï¼ˆä¿®æ”¹database.ymlè¿æ¥å¯¹åº”çš„æ•°æ®åº“ï¼‰ï¼Œå†™ task ï¼Œè¯»å–data.ymlæ–‡ä»¶ï¼Œå¹¶å†™å…¥æ–°çš„æ•°æ®åº“ã€‚<br> <code>rake -T</code> å¯ä»¥æŸ¥çœ‹æ‰€æœ‰ rake å‘½ä»¤ï¼Œæ‰¾åˆ°è‡ªå·±çš„ rake å‘½ä»¤ å¹¶æ‰§è¡Œ(æœ¬ä¾‹ï¼š<code>rake new_db:new_db_load</code>)ã€‚</p>
<p> task ä»£ç ï¼š</p>
<p> æ–‡ä»¶ç›®å½•ï¼š<code>lib/tasks/new_db_migration.rake</code></p>
 <figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">namespace <span class="symbol">:new_db</span> <span class="keyword">do</span></div><div class="line">  desc <span class="string">'migrate old db data to new db'</span></div><div class="line">  task <span class="symbol">:new_db_load</span> =&gt; <span class="symbol">:environment</span> <span class="keyword">do</span></div><div class="line"></div><div class="line">    old_db = YAML.load_file(<span class="string">'db/data.yml'</span>)</div><div class="line"></div><div class="line">    User.bulk_insert(<span class="symbol">set_size:</span> <span class="number">100</span>) <span class="keyword">do</span> <span class="params">|worker|</span></div><div class="line">      old_db[<span class="string">'users'</span>][<span class="string">'records'</span>].each <span class="keyword">do</span> <span class="params">|record|</span></div><div class="line">        worker.add(</div><div class="line">            <span class="symbol">id:</span> record[<span class="number">0</span>], <span class="symbol">email:</span> record[<span class="number">1</span>], <span class="symbol">status:</span> (record[<span class="number">2</span>] == <span class="number">1</span>), <span class="symbol">nick_name:</span> record[<span class="number">3</span>], <span class="symbol">created_at:</span> record[<span class="number">4</span>], <span class="symbol">updated_at:</span> record[<span class="number">5</span>]</div><div class="line">        )</div><div class="line">      <span class="keyword">end</span></div><div class="line">    <span class="keyword">end</span></div><div class="line"></div><div class="line">    puts <span class="string">'user finish'</span></div><div class="line"></div><div class="line">    puts <span class="string">'done!'</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p> ä¸Šé¢æˆ‘åšçš„å˜æ›´æ˜¯ <code>status</code> ï¼ŒåŸæ¥æ˜¯ 0 æˆ–è€…1 ï¼Œç°åœ¨æ”¹æˆ true æˆ– false ï¼Œé€šè¿‡ <code>status: (record[2] == 1)</code> æ¥ç¬¦åˆæ–°çš„ç»“æ„ã€‚å…¶ä½™çš„å˜æ›´éƒ½å¯ä»¥ç±»ä¼¼å¤„ç†ã€‚</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/24/gem-gaffe-å¼‚å¸¸é¡µé¢ç¾åŒ–/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/24/gem-gaffe-å¼‚å¸¸é¡µé¢ç¾åŒ–/" itemprop="url">gem 'gaffe' å¼‚å¸¸é¡µé¢ç¾åŒ–</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-24T22:49:26+08:00">
                2016-10-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/24/gem-gaffe-å¼‚å¸¸é¡µé¢ç¾åŒ–/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/24/gem-gaffe-å¼‚å¸¸é¡µé¢ç¾åŒ–/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒé“¾æ¥ï¼š<a href="https://github.com/mirego/gaffe" target="_blank" rel="external">https://github.com/mirego/gaffe</a></p>
<p>step1.  gem â€˜gaffeâ€™</p>
<p>step2.  bundle install</p>
<p>step3. åœ¨ <code>config/initializers/gaffe.rb</code> ä¸­å†™å…¥</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># config/initializers/gaffe.rb</span></div><div class="line">Gaffe.configure <span class="keyword">do</span> <span class="params">|config|</span></div><div class="line">  config.errors_controller = <span class="string">'ErrorsController'</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">Gaffe.enable!</div></pre></td></tr></table></figure>
<p>step4. åˆ›å»º<code>ErrorsController</code></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ErrorsController</span> &lt; ApplicationController</span></div><div class="line">  <span class="keyword">include</span> Gaffe::Errors</div><div class="line"></div><div class="line">  <span class="comment"># Make sure anonymous users can see the page</span></div><div class="line">  skip_before_action <span class="symbol">:authenticate_user!</span></div><div class="line"></div><div class="line">  <span class="comment"># Override 'error' layout</span></div><div class="line">  layout <span class="string">'application'</span></div><div class="line"></div><div class="line">  <span class="comment"># Render the correct template based on the exception â€œstandardâ€ code.</span></div><div class="line">  <span class="comment"># Eg. For a 404 error, the `errors/not_found` template will be rendered.</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span></span></div><div class="line">    <span class="comment"># Here, the `<span class="doctag">@exception</span>` variable contains the original raised error</span></div><div class="line">    render <span class="string">"errors/<span class="subst">#&#123;@rescue_response&#125;</span>"</span>, <span class="symbol">status:</span> @status_code</div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>step5. åˆ›å»ºè‡ªå·±çš„ï¼ˆä¹Ÿå¯ä»¥ç”¨å®ƒé»˜è®¤çš„ï¼‰ï¼Œç›®å½•ä¸º<code>views/errors/not_found.erb</code> è¿™ç§ã€‚å¦‚ä¸‹å›¾æ˜¯è¿™ä¸ªgemçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¦†ç›–ï¼š</p>
<p><img src="http://ww3.sinaimg.cn/large/801b780ajw1f93pc5yca4j20oq0p4n0i.jpg" alt=""></p>
<p>step6. ä¿®æ”¹<code>config/environments/development.rb</code>ï¼Œå¯ä»¥çœ‹åˆ°æŠ¥é”™çš„é¡µé¢éƒ½ä¼šç»™ç‰¹å®šçš„é¡µé¢ï¼Œæ¯”å¦‚404.erbç­‰ï¼Œä½†æ˜¯åœ¨å¼€å‘æˆ–è€…æµ‹è¯•ç¯å¢ƒè¿˜æ˜¯ä¸è¦è®¾ç½®ï¼Œå› ä¸ºé”™è¯¯ä¿¡æ¯çœ‹ä¸åˆ°ï¼Œæˆ‘ä»¬è‡ªå·±ä¸å¥½çœ‹é”™è¯¯ã€‚(Rails prefers to render its own debug-friendly errors in the development environment, which is totally understandable. However, if you want to test Gaffeâ€™s behavior in development youâ€™ll have to edit the config/environments/development.rb file.)<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Make Rails use `exceptions_app` in development</span></div><div class="line">config.consider_all_requests_local = <span class="literal">false</span></div></pre></td></tr></table></figure></p>
<p>æµ‹è¯•ç¯å¢ƒå¯ä»¥è¿™æ ·å¹²ï¼š<br><code>config/environments/test.rb</code><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Make Rails use `exceptions_app` in tests</span></div><div class="line">config.consider_all_requests_local = <span class="literal">false</span></div><div class="line"></div><div class="line"><span class="comment"># Render exceptions instead of raising them</span></div><div class="line">config.action_dispatch.show_exceptions = <span class="literal">true</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/24/jquery-fileupload-ä¸Šä¼ /">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/24/jquery-fileupload-ä¸Šä¼ /" itemprop="url">jquery fileupload ä¸Šä¼ </a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-24T22:33:02+08:00">
                2016-10-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/24/jquery-fileupload-ä¸Šä¼ /#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/24/jquery-fileupload-ä¸Šä¼ /" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒé“¾æ¥ï¼š<a href="https://github.com/carrierwaveuploader/carrierwave" target="_blank" rel="external">https://github.com/carrierwaveuploader/carrierwave</a></p>
<h2 id="ä½¿ç”¨-jquery-fileupload-js-ä¸Šä¼ å›¾ç‰‡"><a href="#ä½¿ç”¨-jquery-fileupload-js-ä¸Šä¼ å›¾ç‰‡" class="headerlink" title="ä½¿ç”¨ jquery.fileupload.js ä¸Šä¼ å›¾ç‰‡"></a>ä½¿ç”¨ <code>jquery.fileupload.js</code> ä¸Šä¼ å›¾ç‰‡</h2><ol>
<li><code>gem &#39;carrierwave&#39; å’Œ gem &#39;mini_magick&#39;</code></li>
<li><code>bundle</code></li>
<li>æ‰§è¡Œ<code>rails generate uploader image</code> ä¼šç”Ÿæˆ<code>app/uploaders/image_uploader.rb</code></li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># encoding: utf-8</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImageUploader</span> &lt; CarrierWave::Uploader::<span class="title">Base</span></span></div><div class="line"></div><div class="line">  <span class="comment"># Include RMagick or MiniMagick support:</span></div><div class="line">  <span class="comment"># include CarrierWave::RMagick</span></div><div class="line">  <span class="keyword">include</span> CarrierWave::MiniMagick</div><div class="line"></div><div class="line"></div><div class="line">  <span class="comment"># Choose what kind of storage to use for this uploader:</span></div><div class="line">  storage <span class="symbol">:file</span></div><div class="line">  <span class="comment"># storage :fog</span></div><div class="line"></div><div class="line">  <span class="comment"># Override the directory where uploaded files will be stored.</span></div><div class="line">  <span class="comment"># This is a sensible default for uploaders that are meant to be mounted:</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">store_dir</span></span></div><div class="line">    <span class="string">"uploads/"</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  process <span class="symbol">resize_to_fit:</span> [<span class="number">800</span>, <span class="number">800</span>]</div><div class="line"></div><div class="line">  version <span class="symbol">:small</span> <span class="keyword">do</span></div><div class="line">    process <span class="symbol">resize_to_fit:</span> [<span class="number">200</span>, <span class="number">200</span>]</div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<ol>
<li>åœ¨<code>controller</code>ä¸­ action å¯ä»¥ä½¿ç”¨<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">uploader = ImageUploader.new</div><div class="line">uploader.store!(my_file)  </div><div class="line">uploader.url <span class="comment"># =&gt; '/url/to/my_file.png'               # size: 800x600</span></div><div class="line">uploader.thumb.url <span class="comment"># =&gt; '/url/to/thumb_my_file.png'   # size: 200x200</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>æˆ‘çš„åœºæ™¯æ˜¯ï¼Œåœ¨é¡µé¢ç”¨jquery uploader åˆ°åé¢actionä¸Šä¼ å›¾ç‰‡ï¼Œå›ä¼ image_url åˆ°é¡µé¢ï¼Œé¡µé¢ç‚¹å‡»ä¿å­˜çš„æ—¶å€™å†ä¿å­˜åˆ°ç›¸å…³çš„æ•°æ®åº“è¡¨ã€‚</p>
<p>è§æˆªå›¾ï¼š</p>
<figure class="highlight rb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImagesController</span> &lt; ApplicationController</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">create</span></span></div><div class="line">    uploader = ImageUploader.new</div><div class="line">    uploader.store!(params[<span class="string">'picture-upload'</span>])</div><div class="line"></div><div class="line">    render <span class="symbol">json:</span> &#123;<span class="symbol">image_url:</span> uploader.small.url&#125;</div><div class="line"></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">pictureUpload</span>(<span class="params">prize</span>)</span>&#123;</div><div class="line">    $(<span class="string">".picture-upload"</span>).click();</div><div class="line">    $<span class="string">".picture-upload"</span>).fileupload(&#123;</div><div class="line">        type:<span class="string">'POST'</span>,</div><div class="line">        url:<span class="string">'/images'</span>,</div><div class="line">        dataType: <span class="string">'json'</span>,</div><div class="line">        singleFileUploads: <span class="literal">true</span>,</div><div class="line">        maxFileSize: <span class="number">2000000</span>,</div><div class="line">        start: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">            $(<span class="string">".progress-upload"</span>).removeClass(<span class="string">'hide'</span>);</div><div class="line">            $(<span class="string">".upload-button i"</span>).addClass(<span class="string">'hide'</span>);</div><div class="line">            $(<span class="string">".upload-button span"</span>).addClass(<span class="string">'hide'</span>);</div><div class="line">        &#125;,</div><div class="line">        progressall: <span class="function"><span class="keyword">function</span>(<span class="params">e, data</span>)</span>&#123;</div><div class="line">            <span class="keyword">var</span> progress = <span class="built_in">parseInt</span>(data.loaded/data.total * <span class="number">100</span>, <span class="number">10</span>);</div><div class="line">            $(<span class="string">".progress-upload .bar"</span>).css(<span class="string">'width'</span>,progress + <span class="string">'%'</span>);</div><div class="line">        &#125;,</div><div class="line">        done: <span class="function"><span class="keyword">function</span>(<span class="params">e, data</span>)</span>&#123;</div><div class="line">            $(<span class="string">".edit-button .prize-picture"</span>).attr(<span class="string">'src'</span>,data.result.image_url);</div><div class="line">            $(<span class="string">".upload-button"</span>).remove();</div><div class="line">            $(<span class="string">".edit-button"</span>).removeClass(<span class="string">'hide'</span>);</div><div class="line">        &#125;,</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/04/ch04-å¯¹è±¡ã€å˜é‡å’Œå¸¸é‡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/04/ch04-å¯¹è±¡ã€å˜é‡å’Œå¸¸é‡/" itemprop="url">ch04 å¯¹è±¡ã€å˜é‡å’Œå¸¸é‡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-04T13:55:32+08:00">
                2016-10-04
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/04/ch04-å¯¹è±¡ã€å˜é‡å’Œå¸¸é‡/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/04/ch04-å¯¹è±¡ã€å˜é‡å’Œå¸¸é‡/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>å¯¹è±¡</li>
<li>ç±»</li>
<li>å˜é‡</li>
<li>å¸¸é‡</li>
</ul>
<h2 id="4-1-å¯¹è±¡"><a href="#4-1-å¯¹è±¡" class="headerlink" title="4.1 å¯¹è±¡"></a>4.1 å¯¹è±¡</h2><p>åœ¨ Ruby ä¸­ï¼Œè¡¨ç°æ•°æ®çš„åŸºæœ¬å•ä½ç§°ä¸ºå¯¹è±¡ï¼ˆobjectï¼‰ã€‚</p>
<ul>
<li><p>æ•°å€¼å¯¹è±¡</p>
<p>  1ã€-10ã€3.1415 ç­‰æ˜¯è¡¨ç¤ºæ•°å­—çš„å¯¹è±¡ï¼Œå¦å¤–è¿˜æœ‰è¡¨ç¤ºçŸ©é˜µã€å¤æ•°ã€ç´ æ•°ã€å…¬å¼çš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>å­—ç¬¦ä¸²å¯¹è±¡</strong></p>
<p>  â€œä½ å¥½â€ã€â€helloâ€ ç­‰è¡¨ç¤ºæ–‡å­—çš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>æ•°ç»„å¯¹è±¡ã€æ•£åˆ—å¯¹è±¡</strong></p>
<p>  è¡¨ç¤ºå¤šä¸ªæ•°æ®çš„é›†åˆçš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡</strong></p>
<p>  è¡¨ç¤ºåŒ¹é…æ¨¡å¼çš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>æ—¶é—´å¯¹è±¡</strong></p>
<p>  æ¯”å¦‚ â€2013å¹´5æœˆ30æ—¥æ—©ä¸Š9ç‚¹â€œ ç­‰è¡¨ç¤ºæ—¶é—´çš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>æ–‡ä»¶å¯¹è±¡</strong></p>
<p>  ä¸€èˆ¬æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºè¡¨ç¤ºæ–‡ä»¶æœ¬èº«çš„å¯¹è±¡ï¼Œä½†ç¡®åˆ‡æ¥è¯´ï¼Œå®ƒæ˜¯å¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œçš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>ç¬¦å·å¯¹è±¡</strong></p>
<p>  è¡¨ç¤ºç”¨äºè¯†åˆ«æ–¹æ³•ç­‰åç§°çš„æ ‡ç­¾çš„å¯¹è±¡ã€‚</p>
</li>
</ul>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œ Ruby è¿˜æœ‰<strong>èŒƒå›´å¯¹è±¡ï¼ˆRangeï¼‰</strong>ã€<strong>å¼‚å¸¸å¯¹è±¡ï¼ˆExceptionï¼‰</strong>ç­‰ã€‚</p>
<h2 id="4-2-ç±»"><a href="#4-2-ç±»" class="headerlink" title="4.2 ç±»"></a>4.2 ç±»</h2><p>Ruby çš„ç±»ï¼ˆclassï¼‰è¡¨ç¤ºçš„å°±æ˜¯å¯¹è±¡çš„ç§ç±»ã€‚</p>
<p>å¯¹è±¡æ‹¥æœ‰ä»€ä¹ˆç‰¹æ€§ï¼Œè¿™äº›éƒ½æ˜¯ç”±ç±»æ¥å†³å®šçš„ã€‚</p>
<p>ä¸‹å›¾æ˜¯åˆšåˆšä»‹ç»è¿‡çš„å¯¹è±¡åŠå…¶æ‰€å±ç±»çš„å¯¹åº”å…³ç³»ï¼ˆè¿™äº›éƒ½æ˜¯ Ruby é»˜è®¤æä¾›çš„ï¼‰ï¼š</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8g1wsprktj30mk0bx75q.jpg" alt=""></p>
<p>ã€Œ XX ç±»çš„å¯¹è±¡ ã€ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šè¯´æˆ <strong>ã€Œ XX ç±»çš„å®ä¾‹ï¼ˆInstanceï¼‰ ã€</strong>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¼šè¯´ ã€Œ å­—ç¬¦ä¸²å¯¹è±¡ <code>foo</code> æ˜¯ String ç±»çš„å®ä¾‹ ã€ã€‚</p>
<h2 id="4-3-å˜é‡"><a href="#4-3-å˜é‡" class="headerlink" title="4.3 å˜é‡"></a>4.3 å˜é‡</h2><p><strong>å˜é‡å°±åƒæ˜¯å¯¹è±¡çš„åç‰‡ã€‚</strong></p>
<p>Ruby ä¸­æœ‰<strong>å››ç§ç±»å‹</strong>çš„å˜é‡ã€‚</p>
<ul>
<li><strong>å±€éƒ¨å˜é‡</strong>ï¼ˆlocal variableï¼‰    </li>
<li><strong>å…¨å±€å˜é‡</strong>ï¼ˆglobal variableï¼‰</li>
<li><strong>å®ä¾‹å˜é‡</strong>ï¼ˆinstance variableï¼‰</li>
<li><strong>ç±»å˜é‡</strong>ï¼ˆclass variableï¼‰</li>
</ul>
<p>å˜é‡çš„<strong>å‘½åæ–¹å¼å†³å®šäº†å˜é‡çš„ç§ç±»</strong>ã€‚</p>
<ul>
<li><strong>å±€éƒ¨å˜é‡<br>  ä»¥è‹±æ–‡å­—æ¯æˆ–è€…_å¼€å¤´</strong></li>
<li><strong>å…¨å±€å˜é‡<br>  ä»¥$å¼€å¤´</strong></li>
<li><strong>å®ä¾‹å˜é‡<br>  ä»¥@å¼€å¤´</strong></li>
<li><strong>ç±»å˜é‡<br>  ä»¥@@å¼€å¤´</strong></li>
</ul>
<p>é™¤ä»¥ä¸Šå››ç§ç±»å‹å¤–ï¼Œè¿˜æœ‰åä¸ºä¼ªå˜é‡ï¼ˆè¿˜æœ‰ä¸€ç§å«é¢„å®šä¹‰å˜é‡ï¼Œä¹¦ä¸­æ²¡æœ‰è¯¦ç»†ä»‹ç»ï¼‰çš„ç‰¹æ®Šå˜é‡ã€‚<br>ä¼ªå˜é‡æ˜¯ Ruby é¢„å…ˆå®šä¹‰å¥½çš„ä»£è¡¨æŸç‰¹å®šå€¼çš„ç‰¹æ®Šå˜é‡ï¼Œå› æ­¤å³ä½¿æˆ‘ä»¬åœ¨ç¨‹åºé‡Œç»™ä¼ªå˜é‡èµ‹å€¼ï¼Œå®ƒçš„å€¼ä¹Ÿä¸ä¼šæ”¹å˜ã€‚Rubyä¸­ï¼Œnilã€trueã€falseã€selfç­‰éƒ½æ˜¯ä¼ªå˜é‡ã€‚å®ƒä»¬è¡¨é¢ä¸Šè™½ç„¶çœ‹ç€åƒå˜é‡ï¼Œä½†å®é™…çš„è¡Œä¸ºåˆä¸å˜é‡æœ‰å·®åˆ«ï¼Œå› æ­¤ç§°ä¸ºä¼ªå˜é‡ã€‚</p>
<p><strong>å±€éƒ¨å˜é‡ä¸å…¨å±€å˜é‡</strong></p>
<p>å±€éƒ¨å˜é‡æ˜¯æŒ‡ å˜é‡åœ¨ç¨‹åºä¸­çš„æœ‰æ•ˆèŒƒå›´ï¼ˆä¹Ÿç§°<strong>å˜é‡çš„ä½œç”¨åŸŸ</strong>ï¼‰æ˜¯å±€éƒ¨çš„ã€‚</p>
<p>å…¨å±€å˜é‡ï¼Œä¸ç®¡å˜é‡åœ¨ç¨‹åºçš„å“ªä¸ªéƒ¨åˆ†ä½¿ç”¨ï¼Œç¨‹åºå°±è®¤ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå˜é‡ã€‚</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8g31t0hwej30fq09kt9w.jpg" alt=""></p>
<p>å±€éƒ¨å˜é‡ä½œç”¨èŒƒå›´åªåœ¨è‡ªå·±æ‰€åœ¨çš„ä»£ç å—ä¸­ã€‚å…¨å±€å˜é‡ä½œç”¨èŒƒå›´åœ¨æ‰€æœ‰ç¨‹åºä¸­ã€‚</p>
<p><strong>ä¸€èˆ¬å¹¶ä¸æ¨èä½¿ç”¨å…¨å±€å˜é‡ã€‚å…¨å±€å˜é‡åœ¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ä¿®æ”¹ï¼Œå› æ­¤åœ¨è§„æ¨¡è¾ƒå¤§çš„ç¨‹åºä¸­ä½¿ç”¨æ—¶ï¼Œä¼šå¢åŠ ç¨‹åºä¸å¿…è¦çš„å¤æ‚åº¦ï¼Œç»™é˜…è¯»ç¨‹åºã€ä¿®æ”¹ç¨‹åºé€ æˆæ„æƒ³ä¸åˆ°çš„éº»çƒ¦ã€‚</strong></p>
<p>é¦–æ¬¡ç»™å±€éƒ¨å˜é‡èµ‹å€¼çš„åŒæ—¶ï¼Œè¯¥å±€éƒ¨å˜é‡å°±è¢«åˆå§‹åŒ–äº†ã€‚å¦‚æœå¼•ç”¨äº†æœªåˆå§‹åŒ–çš„å±€éƒ¨å˜é‡ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f8g39g6j61j30zw0aa40s.jpg" alt=""></p>
<p>å®ä¾‹å˜é‡ä¸ç±»å˜é‡ï¼Œç¬¬8ç« ä¼šè¯¦ç»†è¯´æ˜ã€‚</p>
<h2 id="4-4-å¸¸é‡"><a href="#4-4-å¸¸é‡" class="headerlink" title="4.4 å¸¸é‡"></a>4.4 å¸¸é‡</h2><p>å¸¸é‡çš„ä½œç”¨å’Œå˜é‡ä¸€æ ·ï¼Œæ˜¯æŸä¸ªå¯¹è±¡çš„ ã€Œ åç‰‡ ã€ã€‚<strong>ä¸å˜é‡ä¸åŒçš„æ˜¯ï¼Œå¯¹å·²ç»èµ‹å€¼çš„å¸¸é‡å†è¿›è¡Œèµ‹å€¼æ—¶ï¼ŒRuby ä¼šåšå‡ºè­¦å‘Šã€‚</strong></p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8g3e4m9t6j30pg08kq43.jpg" alt=""></p>
<p>å¸¸é‡ä»¥å¤§å†™è‹±æ–‡å­—æ¯å¼€å¤´ã€‚<br>ä¾‹å¦‚ Ruby çš„è¿è¡Œç‰ˆæœ¬ã€Œ RUBY_VERSION ã€ã€è¿è¡Œå¹³å°ã€Œ RUBY_PLATFORM ã€ã€å‘½ä»¤è¡Œå‚æ•°æ•°ç»„ã€Œ RARGV ã€ç­‰ï¼Œéƒ½æ˜¯ Ruby é¢„å®šä¹‰å¥½çš„å¸¸é‡ã€‚</p>
<h2 id="4-5-ä¿ç•™å­—"><a href="#4-5-ä¿ç•™å­—" class="headerlink" title="4.5 ä¿ç•™å­—"></a>4.5 ä¿ç•™å­—</h2><p>Ruby å…³é”®å­—ä¸€è§ˆè¡¨ï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8g3lcpnimj30si07rdhe.jpg" alt=""></p>
<p>è¿™äº›å…³é”®å­—è¢«ç§°ä¸ºä¿ç•™å­—ï¼Œå¦‚æœç”¨åšå˜é‡åï¼ŒRuby ä¼šæç¤ºæˆ‘ä»¬è¯­æ³•é”™è¯¯ã€‚</p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8g3oko6axj30zw06wt9z.jpg" alt=""></p>
<h2 id="4-6-å¤šé‡èµ‹å€¼"><a href="#4-6-å¤šé‡èµ‹å€¼" class="headerlink" title="4.6 å¤šé‡èµ‹å€¼"></a>4.6 å¤šé‡èµ‹å€¼</h2><p>é™¤äº†ã€Œ å˜é‡ = å€¼ ã€è¿™ç§ç»™å˜é‡èµ‹å€¼çš„æ–¹æ³•ï¼ŒRuby ä¸­è¿˜æä¾›äº†<strong>åªç”¨ä¸€ä¸ªè¡¨è¾¾å¼å°±èƒ½ç»™å¤šä¸ªå˜é‡èµ‹å€¼çš„ç®€ä¾¿æ–¹æ³•</strong>ã€‚</p>
<h3 id="4-6-1"><a href="#4-6-1" class="headerlink" title="4.6.1"></a>4.6.1</h3><p>æ¯”å¦‚ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">a = <span class="number">1</span></div><div class="line">b = <span class="number">2</span></div><div class="line">c = <span class="number">3</span></div><div class="line"></div><div class="line"><span class="comment"># å¯ä»¥ç®€åŒ–ä¸º</span></div><div class="line">a, b, c = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></div></pre></td></tr></table></figure>
<p>å¦‚æœä¸€ç»„ä¸ç›¸å…³çš„å˜é‡è¿›è¡Œå¤šé‡èµ‹å€¼ï¼Œç¨‹åºä¼šå˜çš„éš¾æ‡‚ï¼Œå› æ­¤å»ºè®®<strong>å¯¹å½¼æ­¤ç›¸å…³å˜é‡è¿›è¡Œå¤šé‡èµ‹å€¼</strong>ã€‚</p>
<p>å³ä½¿ = å·å·¦å³ä¸¤è¾¹åˆ—å‡ºçš„æ•°é‡ä¸ç›¸ç­‰ï¼ŒRuby ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a, b, c, d = <span class="number">1</span>, <span class="number">2</span>  </div><div class="line"><span class="comment"># a = 1  b = 2  c = nil  d = nil</span></div></pre></td></tr></table></figure>
<p>å˜é‡éƒ¨åˆ†æ¯”è¾ƒå°‘æ—¶ï¼ŒRuby ä¼šå¿½ç•¥æ‰è¯¥å€¼ï¼Œä¸ä¼šåˆ†é…å¤šä½™çš„å€¼ã€‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a, b, c = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span></div><div class="line"><span class="comment"># a = 1  b = 2  c = 3  4ä¸ä¼šè¢«åˆ†é…</span></div></pre></td></tr></table></figure>
<p>å˜é‡å‰åŠ ä¸Š * ï¼Œè¡¨ç¤º Ruby ä¼šå°†æœªåˆ†é…çš„å€¼å°è£…ä¸ºæ•°ç»„èµ‹å€¼ç»™è¯¥å˜é‡</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">a, b, *c = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span></div><div class="line"><span class="comment"># a = 1  b = 2  c = [3, 4, 5]</span></div><div class="line"></div><div class="line">a, *b, c = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span></div><div class="line"><span class="comment"># a = 1  b = [2, 3, 4]  c = 5</span></div></pre></td></tr></table></figure>
<h3 id="4-6-2-ç½®æ¢å˜é‡çš„å€¼"><a href="#4-6-2-ç½®æ¢å˜é‡çš„å€¼" class="headerlink" title="4.6.2 ç½®æ¢å˜é‡çš„å€¼"></a>4.6.2 ç½®æ¢å˜é‡çš„å€¼</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">a, b = <span class="number">0</span>, <span class="number">1</span></div><div class="line">tmp = a <span class="comment"># æš‚æ—¶ä¿å­˜å˜é‡açš„å€¼</span></div><div class="line">a = b   <span class="comment"># å°†å˜é‡bçš„å€¼èµ‹å€¼ç»™a</span></div><div class="line">b = tmp <span class="comment"># å°†åŸæœ¬å˜é‡açš„å€¼èµ‹å€¼ç»™å˜é‡b</span></div><div class="line">p a, b  <span class="comment"># =&gt; [1, 0]</span></div></pre></td></tr></table></figure>
<p>ä½¿ç”¨å¤šé‡èµ‹å€¼ï¼Œåªéœ€ä¸€è¡Œç¨‹åºå°±æå®šäº†ã€‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a, b = <span class="number">0</span>, <span class="number">1</span></div><div class="line">a, b = b, a <span class="comment"># ç½®æ¢å˜é‡aã€bçš„å€¼</span></div><div class="line">p a, b      <span class="comment"># [1, 0]</span></div></pre></td></tr></table></figure>
<h3 id="4-6-3-è·å–æ•°ç»„çš„å…ƒç´ "><a href="#4-6-3-è·å–æ•°ç»„çš„å…ƒç´ " class="headerlink" title="4.6.3 è·å–æ•°ç»„çš„å…ƒç´ "></a>4.6.3 è·å–æ•°ç»„çš„å…ƒç´ </h3><p>ç”¨æ•°ç»„èµ‹å€¼ï¼Œå·¦è¾¹æœ‰å¤šä¸ªå˜é‡æ—¶ï¼ŒRuby ä¼šè‡ªåŠ¨è·å–æ•°ç»„çš„å…ƒç´ è¿›è¡Œå¤šé‡èµ‹å€¼ã€‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ary = [<span class="number">1</span>, <span class="number">2</span>]</div><div class="line">a, b = ary</div><div class="line">p a     <span class="comment"># =&gt; 1</span></div><div class="line">p b     <span class="comment"># =&gt; 2</span></div></pre></td></tr></table></figure>
<h3 id="4-6-4-è·å–åµŒå¥—æ•°ç»„çš„å…ƒç´ "><a href="#4-6-4-è·å–åµŒå¥—æ•°ç»„çš„å…ƒç´ " class="headerlink" title="4.6.4 è·å–åµŒå¥—æ•°ç»„çš„å…ƒç´ "></a>4.6.4 è·å–åµŒå¥—æ•°ç»„çš„å…ƒç´ </h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ary = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>]</div><div class="line">a, b, c = ary</div><div class="line">p a  <span class="comment"># =&gt; 1</span></div><div class="line">p b  <span class="comment"># =&gt; [2, 3]</span></div><div class="line">p c  <span class="comment"># =&gt; 4</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ary = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>]</div><div class="line">a, (b1, b2), c = ary  <span class="comment"># å¯¹ä¸æ•°ç»„ç»“æ„ç›¸å¯¹åº”çš„å˜é‡èµ‹å€¼</span></div><div class="line">p a   <span class="comment"># =&gt; 1</span></div><div class="line">p b1  <span class="comment"># =&gt; 2</span></div><div class="line">p b2  <span class="comment"># =&gt; 3</span></div><div class="line">p c   <span class="comment"># =&gt; 4</span></div></pre></td></tr></table></figure>
<p>åªè¦ç­‰å·å·¦è¾¹çš„å˜é‡çš„ç»“æ„ä¸æ•°ç»„çš„ç»“æ„ä¸€è‡´ï¼Œå³ä½¿å†å¤æ‚çš„ç»“æ„ï¼Œå¤šé‡èµ‹å€¼éƒ½å¯ä»¥è½»æ¾å¯¹åº”ã€‚</p>
<p>ä¸“æ </p>
<p>ä»¥å˜é‡åå¼€å¤´æ¥å†³å®šå˜é‡çš„ç§ç±»ï¼Œè¿™æ˜¯ Ruby ä¸­å¯¹å˜é‡å‘½åæ—¶å”¯ä¸€è¦åšå†³éµå®ˆçš„è§„åˆ™ã€‚</p>
<p>â— ä¸è¦è¿‡å¤šä½¿ç”¨çœç•¥çš„åç§°</p>
<p>â— <strong>å¯¹äºå¤šä¸ªå•è¯ç»„åˆçš„å˜é‡åï¼Œä½¿ç”¨ _ éš”å¼€å„ä¸ªå•è¯</strong>ï¼Œæˆ–è€…å•è¯ä»¥å¤§å†™å­—æ¯å¼€å¤´<br>   Ruby çš„å˜é‡åå’Œæ–¹æ³•åä½¿ç”¨å‰è€…ï¼Œç±»åå’Œæ¨¡å—åä½¿ç”¨åè€…ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/03/ch03-åˆ›å»ºå‘½ä»¤/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/03/ch03-åˆ›å»ºå‘½ä»¤/" itemprop="url">ch03 åˆ›å»ºå‘½ä»¤</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-03T12:11:05+08:00">
                2016-10-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/03/ch03-åˆ›å»ºå‘½ä»¤/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/03/ch03-åˆ›å»ºå‘½ä»¤/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="3-1-å‘½ä»¤è¡Œçš„è¾“å…¥æ•°æ®"><a href="#3-1-å‘½ä»¤è¡Œçš„è¾“å…¥æ•°æ®" class="headerlink" title="3.1 å‘½ä»¤è¡Œçš„è¾“å…¥æ•°æ®"></a>3.1 å‘½ä»¤è¡Œçš„è¾“å…¥æ•°æ®</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å†™çš„ç¨‹åºéƒ½æ˜¯å‘å±å¹•è¾“å‡ºæ•°æ®ã€‚ç°åœ¨æˆ‘ä»¬è€ƒè™‘ä¸€ä¸‹æ€ä¹ˆ<strong>è¾“å…¥æ•°æ®</strong>ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8ets8fdr8j30i00ae3z7.jpg" alt=""></p>
<p>æ‰§è¡Œç»“æœï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8etsulbssj314s04edgo.jpg" alt=""></p>
<p>å¦‚å›¾å¯ä»¥çœ‹å‡ºï¼Œæ‰§è¡Œå‘½ä»¤ <code>ruby print_argv.rb 1st 2nd 3rd</code> ä¸­æ‰€ä¼ é€’çš„ <code>1st 2nd 3rd</code> è¿™ä¸‰ä¸ªå‚æ•°ï¼ˆåœ¨å‘½ä»¤è¡ŒæŒ‡å®šå¤šä¸ªè„šæœ¬å‚æ•°æ—¶ï¼Œ<strong>å„å‚æ•°ä¹‹é—´ç”¨ç©ºæ ¼é—´éš”</strong>ï¼‰ï¼Œå¯ä»¥ç”¨ <code>#{ARGV[0]}</code> è¿™ç§æ–¹å¼è·å–ã€‚ï¼ˆ<strong>å…¶ä¸­ ARGV æ˜¯ Ruby é¢„å®šä¹‰å¥½çš„æ•°ç»„</strong>ï¼‰</p>
<p>ä½¿ç”¨ ARGV åï¼Œç¨‹åºéœ€è¦ç”¨åˆ°çš„æ•°æ®å°±ä¸å¿…éƒ½å†™åœ¨ä»£ç ä¸­ã€‚åŒæ—¶ï¼ŒæŠ½å–æ•°æ®ã€ä¿å­˜æ•°æ®ç­‰æ™®é€šçš„æ•°ç»„æ“ä½œå¯¹äº ARGV éƒ½æ˜¯é€‚ç”¨çš„ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8eu6u1n1fj30lm07k3yx.jpg" alt=""></p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8eubw59z5j311e02674w.jpg" alt=""></p>
<p>æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ï¼Œå¯ä»¥ä½¿ç”¨ <code>to_i</code> æ–¹æ³•ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8euhagv3bj30ns0gagn4.jpg" alt=""></p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8euhmv2p2j310u056754.jpg" alt=""></p>
<h2 id="3-2-æ–‡ä»¶çš„è¯»å–"><a href="#3-2-æ–‡ä»¶çš„è¯»å–" class="headerlink" title="3.2 æ–‡ä»¶çš„è¯»å–"></a>3.2 æ–‡ä»¶çš„è¯»å–</h2><p>Ruby è„šæœ¬é™¤äº†<strong>è¯»å–å‘½ä»¤è¡Œä¼ é€’è¿‡æ¥çš„å­—ç¬¦ä¸²å‚æ•°</strong>å¤–ï¼Œè¿˜å¯ä»¥<strong>è¯»å–é¢„å…ˆå†™åœ¨æ–‡ä»¶é‡Œçš„æ•°æ®</strong>ã€‚</p>
<p>Ruby çš„æºä»£ç ä¸­ï¼Œæœ‰ä¸€ä¸ªåä¸º ChangeLog çš„æ–‡æœ¬æ–‡ä»¶ã€‚æ–‡ä»¶é‡Œé¢è®°å½•äº†Rubyç›¸å…³çš„ä¿®æ”¹æ—¥å¿—ã€‚</p>
<p>å¤‡æ³¨Rubyçš„æºä»£ç å¯ä»¥ä»Rubyå®˜ç½‘ä¸‹è½½ã€‚ChangeLog æ–‡ä»¶å¯ä»¥åœ¨Rubyçš„githubåº“é‡Œæ‰¾åˆ°ã€‚<br>â€¢ Rubyæºç ä¸‹è½½åœ°å€ï¼š<a href="https://www.ruby-lang.org/zh_cn/downloads/" target="_blank" rel="external">https://www.ruby-lang.org/zh_cn/downloads/</a>   â€¢ githubä¸Šçš„ChangeLogæ–‡ä»¶åœ°å€ï¼š<a href="https://raw.github.com/ruby/ruby/v2_0_0_0/ChangeLog" target="_blank" rel="external">https://raw.github.com/ruby/ruby/v2_0_0_0/ChangeLog</a></p>
<h3 id="3-2-1-ä»æ–‡ä»¶ä¸­è¯»å–å†…å®¹å¹¶è¾“å‡º"><a href="#3-2-1-ä»æ–‡ä»¶ä¸­è¯»å–å†…å®¹å¹¶è¾“å‡º" class="headerlink" title="3.2.1 ä»æ–‡ä»¶ä¸­è¯»å–å†…å®¹å¹¶è¾“å‡º"></a>3.2.1 ä»æ–‡ä»¶ä¸­è¯»å–å†…å®¹å¹¶è¾“å‡º</h3><p>è¯»å–æ–‡ä»¶å†…å®¹çš„æµç¨‹ï¼š</p>
<ol>
<li>æ‰“å¼€æ–‡ä»¶</li>
<li>è¯»å–æ–‡ä»¶çš„æ–‡æœ¬æ•°æ®</li>
<li>è¾“å‡ºæ–‡ä»¶çš„æ–‡æœ¬æ•°æ®</li>
<li>å…³é—­æ–‡ä»¶</li>
</ol>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8eut3b9t4j30i40d6aao.jpg" alt=""></p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8euxc4o5uj315g0a6tah.jpg" alt=""></p>
<p>å¦‚æœåªæ˜¯è¯»å–æ–‡ä»¶å†…å®¹ï¼Œå…¶å®ç›´æ¥é€‚ç”¨ read æ–¹æ³•ä¼šä½¿ç¨‹åºæ›´ç®€å•</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8ew2vki2sj30h409at95.jpg" alt=""></p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8ew43khmvj317m0acwft.jpg" alt=""></p>
<p>æ›´è¿›ä¸€æ­¥ï¼Œå¦‚æœä¸ä½¿ç”¨å˜é‡ï¼Œä¸€è¡Œä»£ç å°±å¯ä»¥åˆ°æå®šå•¦ã€‚</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8ew7a4gdnj30i2056aaa.jpg" alt=""></p>
<h3 id="3-2-2-ä»æ–‡ä»¶ä¸­é€è¡Œè¯»å–å†…å®¹å¹¶è¾“å‡º"><a href="#3-2-2-ä»æ–‡ä»¶ä¸­é€è¡Œè¯»å–å†…å®¹å¹¶è¾“å‡º" class="headerlink" title="3.2.2 ä»æ–‡ä»¶ä¸­é€è¡Œè¯»å–å†…å®¹å¹¶è¾“å‡º"></a>3.2.2 ä»æ–‡ä»¶ä¸­é€è¡Œè¯»å–å†…å®¹å¹¶è¾“å‡º</h3><p>ä¸€ä¸‹å­è¯»å–å…¨éƒ¨æ–‡ä»¶ <strong>è€—æ—¶ï¼Œæµªè´¹å†…å­˜</strong>ï¼ˆè¯»å–çš„å†…å®¹ä¼šä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œé‡åˆ°å¤§æ–‡ä»¶ï¼Œç¨‹åºä¼šå´©æºƒï¼‰</p>
<p>æ‰€ä»¥éœ€è¦ æ”¾å¼ƒ ã€Œ è¯»å–æ–‡ä»¶å…¨éƒ¨å†…å®¹ ã€ ï¼Œæ”¹ä¸º ã€Œ é€è¡Œè¯»å–å¹¶è¾“å‡º ã€ã€‚</p>
<p>å¦‚å›¾ï¼šread å’Œ each_line çš„åŒºåˆ«</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8ewctnnuxj30fq0cv0th.jpg" alt=""></p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8ewkm47jvj30h20fu3z7.jpg" alt=""></p>
<h3 id="3-2-3-ä»æ–‡ä»¶ä¸­è¯»å–æŒ‡å®šæ¨¡å¼çš„å†…å®¹å¹¶è¾“å‡º"><a href="#3-2-3-ä»æ–‡ä»¶ä¸­è¯»å–æŒ‡å®šæ¨¡å¼çš„å†…å®¹å¹¶è¾“å‡º" class="headerlink" title="3.2.3 ä»æ–‡ä»¶ä¸­è¯»å–æŒ‡å®šæ¨¡å¼çš„å†…å®¹å¹¶è¾“å‡º"></a>3.2.3 ä»æ–‡ä»¶ä¸­è¯»å–æŒ‡å®šæ¨¡å¼çš„å†…å®¹å¹¶è¾“å‡º</h3><p>ç”¨ Ruby å®ç° grep å‘½ä»¤ ï¼ˆ Unixä¸­æœ‰ä¸€ä¸ª grep å‘½ä»¤ ï¼Œgrep å‘½ä»¤åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬æ•°æ®ï¼Œè¾“å‡ºæŒ‰ç…§æŒ‡å®šæ¨¡å¼åŒ¹é…åˆ°çš„è¡Œ ï¼‰</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8ewqny5oyj30k00kgmyc.jpg" alt=""></p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8ewrnozoej319a048ta0.jpg" alt=""></p>
<p>å›¾ä¸­ ï¼Œå‘½ä»¤ <code>ruby simple_grep.rb filename read_text.rb</code> çš„æ„æ€å°±æ˜¯æ‰§è¡Œ simple_grep.rb ç¨‹åºï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦åŒ¹é…çš„å­—ç¬¦ä¸² æˆ‘è¿™é‡Œæ˜¯ <code>filename</code> ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸º è¦æœç´¢çš„æ–‡æœ¬æ–‡ä»¶ æˆ‘è¿™é‡Œæ˜¯ <code>read_text.rb</code> ï¼Œæ‰§è¡Œç»“æœï¼Œå°±æ˜¯è¿™ä¸ª <code>read_text.rb</code> ä¸­çš„ä¸¤è¡ŒåŒ…å«çš„ <code>filename</code> æ•°æ®ã€‚</p>
<h2 id="3-3-æ–¹æ³•çš„å®šä¹‰"><a href="#3-3-æ–¹æ³•çš„å®šä¹‰" class="headerlink" title="3.3 æ–¹æ³•çš„å®šä¹‰"></a>3.3 æ–¹æ³•çš„å®šä¹‰</h2><p>å®šä¹‰æ–¹æ³•ï¼š</p>
<p><strong>def æ–¹æ³•å<br>    å¸Œæœ›æ‰§è¡Œçš„å¤„ç†<br>  end</strong></p>
<p>å®šä¹‰å¥½æ–¹æ³•åï¼Œéœ€è¦ ã€Œ è°ƒç”¨ ã€ï¼ŒRuby æ‰çŸ¥é“æˆ‘ä»¬è¦æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8ex2unkppj30eo096wer.jpg" alt=""></p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8ex3k1yj2j310602e0te.jpg" alt=""></p>
<h2 id="3-4-å…¶ä»–æ–‡ä»¶çš„å¼•ç”¨"><a href="#3-4-å…¶ä»–æ–‡ä»¶çš„å¼•ç”¨" class="headerlink" title="3.4 å…¶ä»–æ–‡ä»¶çš„å¼•ç”¨"></a>3.4 å…¶ä»–æ–‡ä»¶çš„å¼•ç”¨</h2><p><strong>è¢«å…¶ä»–ç¨‹åºå¼•ç”¨çš„ç¨‹åºï¼Œæˆä¸ºåº“ï¼ˆlibraryï¼‰ã€‚</strong></p>
<p>Ruby ä½¿ç”¨ <code>require</code>æ–¹æ³•å¼•ç”¨åº“ï¼š</p>
<p><strong> require å¸Œæœ›ä½¿ç”¨çš„åº“å </strong></p>
<p>åº“åå¯ç–‘çœç•¥åç¼€ .rb</p>
<p>å¦‚å›¾ï¼šåº“ä¸å¼•ç”¨åº“çš„ç¨‹åº</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8ex936atgj30rf07q0to.jpg" alt=""></p>
<p>æŠŠ simple_grep.rb ä½œä¸ºåº“ä¾›ç»™å…¶ä»–ç¨‹åºä½¿ç”¨ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8exkavqpkj30xq0mwju0.jpg" alt=""></p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8exm1gwpnj30ts08yab0.jpg" alt=""></p>
<p>æ³¨ï¼šåº“ä¸è„šæœ¬æ”¾åœ¨åŒä¸€æ–‡ä»¶å¤¹æ—¶ï¼Œéœ€è¦ç”¨ <code>./</code>æ¥æ˜ç¤ºæ–‡ä»¶å­˜æ”¾åœ¨å½“å‰ç›®å½•ã€‚</p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8exkq36d7j318y04s3zv.jpg" alt=""></p>
<p>Ruby æä¾›äº†å¾ˆå¤šæ ‡å‡†åº“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>require</code> æ¥å¼•ç”¨ã€‚</p>
<p>å¦‚å›¾ï¼šè®¡ç®—å‡ºäº†Rubyçš„ç”Ÿæ—¥â€”â€”1993å¹´2æœˆ24åˆ°ä»Šå¤©ä¸ºæ­¢çš„å¤©æ•°:8622</p>
<p><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f8eydmftudj30oo0a6t99.jpg" alt=""></p>
<p><strong>pp æ–¹æ³•</strong></p>
<p>é™¤äº† p æ–¹æ³•å¤–ï¼ŒRuby è¿˜æä¾›äº†ä¸€ä¸ªç±»ä¼¼çš„æ–¹æ³•â€”â€”ppï¼ˆpretty printï¼‰ã€‚<br>ä½¿ç”¨ pp æ–¹æ³•ï¼Œéœ€è¦å¼•ç”¨ pp åº“ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<p><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f8eyeqyfmhj30la0ge0tp.jpg" alt=""></p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8ey68flvqj315203ctaf.jpg" alt=""></p>
<p>æˆ‘æ²¡å‘ç°æœ‰å•¥åŒºåˆ«ã€‚ã€‚ã€‚ä½†æ˜¯ä¹¦ä¸Šè¯´ï¼Œppæ–¹æ³•ä¼šåœ¨è¾“å‡ºå¯¹è±¡çš„ç»“æœæ—¶ï¼Œä¼šé€‚å½“çš„æ¢è¡Œä»¥è°ƒæ•´è¾“å‡ºç»“æœï¼Œå¯ä»¥æ›´å®¹æ˜“çœ‹æ‡‚ã€‚ã€‚ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/02/ch02-ä¾¿åˆ©çš„å¯¹è±¡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/02/ch02-ä¾¿åˆ©çš„å¯¹è±¡/" itemprop="url">ch02 ä¾¿åˆ©çš„å¯¹è±¡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-02T11:28:09+08:00">
                2016-10-02
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/02/ch02-ä¾¿åˆ©çš„å¯¹è±¡/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/02/ch02-ä¾¿åˆ©çš„å¯¹è±¡/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä¸åŒæ•°æ®é—´çš„ç»„åˆæ— æ³•ç”¨å­—ç¬¦ä¸²æˆ–æ•°å€¼è¿™æ ·ç®€å•çš„å¯¹è±¡æ¥è¡¨ç¤ºï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯ä»¥ç”¨ä»¥<strong>è¡¨ç¤ºæ•°æ®é›†åˆçš„æ•°æ®ç»“æ„</strong>ã€‚</p>
<p>æœ¬ç« ä»‹ç»ï¼š</p>
<ol>
<li><strong>æ•°ç»„</strong>å’Œ<strong>æ•£åˆ—</strong>è¿™ä¸¤ç§æ–°çš„<strong>æ•°æ®ç»“æ„</strong>ã€‚</li>
<li><strong>å¤„ç†å­—ç¬¦ä¸²</strong>æ—¶å¸¸ç”¨çš„<strong>å·¥å…·</strong>â€”â€”<strong>æ­£åˆ™è¡¨è¾¾å¼</strong>ã€‚</li>
</ol>
<p>ã€Œ æ•°ç»„ã€æ•£åˆ— è¿™æ ·ä¿å­˜å¯¹è±¡çš„å¯¹è±¡ï¼Œæˆ‘ä»¬ç§°ä¸ºå®¹å™¨ã€‚ ã€</p>
<h2 id="2-1-æ•°ç»„"><a href="#2-1-æ•°ç»„" class="headerlink" title="2.1 æ•°ç»„"></a>2.1 æ•°ç»„</h2><h3 id="2-1-1-æ•°ç»„çš„åˆ›å»º"><a href="#2-1-1-æ•°ç»„çš„åˆ›å»º" class="headerlink" title="2.1.1 æ•°ç»„çš„åˆ›å»º"></a>2.1.1 æ•°ç»„çš„åˆ›å»º</h3><p><strong>æ•°ç»„ï¼ˆarrayï¼‰æ˜¯ä¸€ä¸ªæŒ‰é¡ºåºä¿å­˜å¤šä¸ªå¯¹è±¡çš„å¯¹è±¡ï¼Œå®ƒæ˜¯åŸºæœ¬å®¹å™¨ä¹‹ä¸€ã€‚</strong><br>æˆ‘ä»¬ä¸€èˆ¬ç§°ä¸ºæ•°ç»„å¯¹è±¡æˆ–è€…Arrayå¯¹è±¡ã€‚</p>
<p>ä¸€ä¸ªç®€å•çš„æ•°ç»„ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">names = [ <span class="string">"å°æ—"</span>,<span class="string">"æ—"</span>,<span class="string">"é«˜é‡"</span>,<span class="string">"æ£®å†ˆ"</span> ]</div></pre></td></tr></table></figure>
<h3 id="2-1-2-æ•°ç»„å¯¹è±¡"><a href="#2-1-2-æ•°ç»„å¯¹è±¡" class="headerlink" title="2.1.2 æ•°ç»„å¯¹è±¡"></a>2.1.2 æ•°ç»„å¯¹è±¡</h3><p>ç©ºæ•°ç»„å¯¹è±¡ï¼š(è¿˜æœ‰å…¶ä»–æ–¹å¼åˆ›å»ºæ•°ç»„ï¼Œä¹‹åä¼šç»§ç»­ä»‹ç»)</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">names = []</div></pre></td></tr></table></figure>
<h3 id="2-1-3-ä»æ•°ç»„ä¸­æŠ½å–å¯¹è±¡"><a href="#2-1-3-ä»æ•°ç»„ä¸­æŠ½å–å¯¹è±¡" class="headerlink" title="2.1.3 ä»æ•°ç»„ä¸­æŠ½å–å¯¹è±¡"></a>2.1.3 ä»æ•°ç»„ä¸­æŠ½å–å¯¹è±¡</h3><p>æŠ½å–æ–¹æ³•ï¼š</p>
<p>  <strong>æ•°ç»„å[ç´¢å¼•]</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">names = [ <span class="string">"å°æ—"</span>,<span class="string">"æ—"</span>,<span class="string">"é«˜é‡"</span>,<span class="string">"æ£®å†ˆ"</span> ]</div><div class="line">name[<span class="number">0</span>] <span class="comment"># è¿™ç§æ–¹å¼å¯ä»¥å–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ </span></div><div class="line">print(<span class="string">"ç¬¬ä¸€ä¸ªåå­—ä¸ºï¼š"</span>, names[<span class="number">0</span>],<span class="string">".\n"</span>)  <span class="comment"># ç»“æœä¸º ç¬¬ä¸€ä¸ªåå­—ä¸ºï¼šå°æ—</span></div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8doim3ywmj30po0ac0u6.jpg" alt=""></p>
<p><strong>ã€Œ æ•°ç»„çš„ç´¢å¼•å€¼æ˜¯ä»0å¼€å§‹ ã€</strong>ï¼Œå¹¶é1. å› æ­¤ <code>names[1]</code> ä¸æ˜¯æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè€Œæ˜¯ç¬¬äºŒä¸ªå…ƒç´ ã€‚</p>
<h3 id="2-1-4-å°†å¯¹è±¡ä¿å­˜åœ¨æ•°ç»„ä¸­"><a href="#2-1-4-å°†å¯¹è±¡ä¿å­˜åœ¨æ•°ç»„ä¸­" class="headerlink" title="2.1.4 å°†å¯¹è±¡ä¿å­˜åœ¨æ•°ç»„ä¸­"></a>2.1.4 å°†å¯¹è±¡ä¿å­˜åœ¨æ•°ç»„ä¸­</h3><p>names[0] = â€œé‡å°»â€</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8dp4an4ipj30p807k3zh.jpg" alt=""></p>
<p>ä¸Šå›¾å¯ä»¥çœ‹å‡º æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´  ä» â€œå°æ—â€ å˜æˆäº† â€œé‡å°»â€ã€‚</p>
<p>å¦‚æœæƒ³æ·»åŠ é¢å¤–çš„å…ƒç´ ï¼Œå¯ä»¥ç»§ç»­æ·»åŠ ä¹‹åçš„ç´¢å¼•<br>å¦‚å›¾ï¼š</p>
<p><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f8dp7kretjj30ro0datal.jpg" alt=""></p>
<h3 id="2-1-5-æ•°ç»„çš„å…ƒç´ "><a href="#2-1-5-æ•°ç»„çš„å…ƒç´ " class="headerlink" title="2.1.5 æ•°ç»„çš„å…ƒç´ "></a>2.1.5 æ•°ç»„çš„å…ƒç´ </h3><p>ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºæ•°ç»„å…ƒç´ ä¿å­˜åˆ°æ•°ç»„ä¸­ã€‚</p>
<p>å¦‚ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">num = [<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">9</span>]</div><div class="line"></div><div class="line">mixed = [<span class="number">2</span>, <span class="string">"å“¥"</span>, <span class="number">3</span>, <span class="string">"ä½ "</span>, <span class="number">9</span>]</div></pre></td></tr></table></figure>
<h3 id="2-1-6-æ•°ç»„çš„å¤§å°"><a href="#2-1-6-æ•°ç»„çš„å¤§å°" class="headerlink" title="2.1.6 æ•°ç»„çš„å¤§å°"></a>2.1.6 æ•°ç»„çš„å¤§å°</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">array.size</div></pre></td></tr></table></figure>
<p>å¦‚å›¾ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8dpbxm3h8j30su05cgmh.jpg" alt=""></p>
<h3 id="2-1-6-æ•°ç»„çš„å¾ªç¯"><a href="#2-1-6-æ•°ç»„çš„å¾ªç¯" class="headerlink" title="2.1.6 æ•°ç»„çš„å¾ªç¯"></a>2.1.6 æ•°ç»„çš„å¾ªç¯</h3><p>each æ–¹æ³•çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<p><strong>æ•°ç»„.each do |å˜é‡|<br>    å¸Œæœ›å¾ªç¯åšçš„å¤„ç† (è¿™é‡Œç§°ä¸ºå— block)<br>end</strong></p>
<p>ï¼ˆè§£è¯´ï¼šå—çš„å¼€å§‹éƒ¨åˆ†ä¸º|å˜é‡|ï¼Œ<strong>eachæ–¹æ³•ä¼šæŠŠæ•°ç»„å…ƒç´ é€ä¸ªæ‹¿å‡ºæ¥</strong>ï¼Œèµ‹å€¼ç»™æŒ‡å®šçš„ |å˜é‡|ï¼Œé‚£ä¹ˆå—é‡Œé¢çš„æ–¹æ³•å°±å¯ä»¥<strong>é€šè¿‡è®¿é—®è¯¥å˜é‡</strong>ï¼Œå®ç°å¾ªç¯<strong>éå†</strong>æ•°ç»„çš„æ“ä½œã€‚ï¼‰</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8dpij0s5tj30z30ax3zz.jpg" alt=""></p>
<p>æœ¬å›¾æ˜¯åŸæ–‡ä¸­çš„ï¼Œæ›´åŠ æ¸…æ™°ç‚¹ã€‚</p>
<p>æ¯å¾ªç¯ä¸€æ¬¡ï¼Œå°±ä¼šæŠŠå½“å‰çš„æ•°ç»„å…ƒç´ èµ‹å€¼ç»™å˜é‡ n ï¼Œ</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8dpkf4xdrj30w003v0t8.jpg" alt=""></p>
<h2 id="2-2-æ•£åˆ—"><a href="#2-2-æ•£åˆ—" class="headerlink" title="2.2 æ•£åˆ—"></a>2.2 æ•£åˆ—</h2><p><strong>æ•£åˆ—ï¼ˆhashï¼‰</strong>ä¹Ÿæ˜¯ä¸€ä¸ªç¨‹åºé‡Œå¸¸ç”¨åˆ°çš„<strong>å®¹å™¨</strong>ã€‚<br><strong>æ•£åˆ—</strong>æ˜¯<strong>é”®å€¼å¯¹</strong>ï¼ˆ<strong>key-value</strong> pairï¼‰çš„ä¸€ç§<strong>æ•°æ®ç»“æ„</strong>ã€‚<br>Rubyä¸­ï¼Œä¸€èˆ¬ä»¥<strong>å­—ç¬¦ä¸²</strong>æˆ–è€…<strong>ç¬¦å·(Symbol)</strong>ä½œä¸ºé”®(key)ï¼Œæ¥ä¿å­˜å¯¹åº”çš„å¯¹è±¡(value)ã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8dpqg7ki1j30o20cadh5.jpg" alt=""></p>
<h3 id="2-2-1-ä»€ä¹ˆæ˜¯ç¬¦å·"><a href="#2-2-1-ä»€ä¹ˆæ˜¯ç¬¦å·" class="headerlink" title="2.2.1 ä»€ä¹ˆæ˜¯ç¬¦å·"></a>2.2.1 ä»€ä¹ˆæ˜¯ç¬¦å·</h3><p>å¦‚å›¾ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sym = <span class="symbol">:foo</span>  <span class="comment"># è¡¨ç¤ºç¬¦å·":foo"</span></div><div class="line">sym2 = <span class="symbol">:<span class="string">"foo"</span></span> <span class="comment"># æ„æ€åŒä¸Š</span></div></pre></td></tr></table></figure>
<p>ç¬¦å·èƒ½å®ç°çš„åŠŸèƒ½ï¼Œå¤§éƒ¨åˆ†å­—ç¬¦ä¸²ä¹Ÿèƒ½å®ç°ã€‚<br>ä½†æ˜¯<strong>åˆ¤æ–­ ã€Œ æ˜¯å¦ç›¸ç­‰ ã€çš„å¤„ç†ä¸­ï¼Œä½¿ç”¨ç¬¦å·æ›´æœ‰æ•ˆç‡</strong>ã€‚</p>
<p><strong>ç¬¦å·ä¸å­—ç¬¦ä¸²å¯ä»¥ç›¸äº’è½¬æ¢</strong>ã€‚</p>
<p><strong>ç¬¦å·ä½¿ç”¨ <code>to_s</code> å¯ä»¥ è½¬æˆä¸º å­—ç¬¦ä¸²ã€‚<br>å­—ç¬¦ä¸²ä½¿ç”¨ <code>to_sym</code> å¯ä»¥ è½¬æ¢ä¸º ç¬¦å·ã€‚</strong></p>
<h3 id="2-2-2-æ•£åˆ—çš„åˆ›å»º"><a href="#2-2-2-æ•£åˆ—çš„åˆ›å»º" class="headerlink" title="2.2.2 æ•£åˆ—çš„åˆ›å»º"></a>2.2.2 æ•£åˆ—çš„åˆ›å»º</h3><p>ä½¿ç”¨<strong>{}</strong>åˆ›å»ºï¼Œä½¿ç”¨ <strong>=&gt;</strong> å®šä¹‰keyå’Œvalue ï¼›</p>
<p>å¦‚ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">address = &#123; <span class="symbol">:name</span> =&gt; <span class="string">"é«˜æ¡¥"</span> , <span class="symbol">:pinin</span> =&gt; <span class="string">"gaoqiao"</span>, <span class="symbol">:postal</span> =&gt; <span class="string">"123123"</span> &#125;</div></pre></td></tr></table></figure>
<p>å½“é”®æ˜¯ç¬¦å·æ—¶ï¼Œå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">address = &#123; <span class="symbol">name:</span> <span class="string">"é«˜æ¡¥"</span> , <span class="symbol">pinin:</span> <span class="string">"gaoqiao"</span>, <span class="symbol">postal:</span> <span class="string">"123123"</span> &#125;</div></pre></td></tr></table></figure>
<h3 id="2-2-3-æ•£åˆ—çš„ä½¿ç”¨"><a href="#2-2-3-æ•£åˆ—çš„ä½¿ç”¨" class="headerlink" title="2.2.3 æ•£åˆ—çš„ä½¿ç”¨"></a>2.2.3 æ•£åˆ—çš„ä½¿ç”¨</h3><p>ä»æ•£åˆ—é‡Œå–å‡ºå¯¹è±¡(value):</p>
<p><strong>æ•£åˆ—å[é”®]</strong></p>
<p>ä¿å­˜å¯¹è±¡æ—¶ä½¿ç”¨çš„æ–¹æ³•ï¼š</p>
<p><strong>æ•£åˆ—å[é”®] = å¸Œæœ›ä¿å­˜çš„å¯¹è±¡</strong></p>
<p><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f8dq6sgy1ej310g0bqgnx.jpg" alt=""></p>
<h3 id="2-2-4-æ•£åˆ—çš„å¾ªç¯"><a href="#2-2-4-æ•£åˆ—çš„å¾ªç¯" class="headerlink" title="2.2.4 æ•£åˆ—çš„å¾ªç¯"></a>2.2.4 æ•£åˆ—çš„å¾ªç¯</h3><p>æ•£åˆ—çš„ each è¯­æ³•ï¼š</p>
<p><strong>æ•£åˆ—.each do |é”®å˜é‡, å€¼å˜é‡|<br>    å¸Œæœ›å¾ªç¯åšçš„å¤„ç†<br>end</strong></p>
<p>å¦‚å›¾ï¼š</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8dqa6uztqj310q0ayq4y.jpg" alt=""></p>
<h2 id="2-3-æ­£åˆ™è¡¨è¾¾å¼-Regular-expression"><a href="#2-3-æ­£åˆ™è¡¨è¾¾å¼-Regular-expression" class="headerlink" title="2.3 æ­£åˆ™è¡¨è¾¾å¼ (Regular expression)"></a>2.3 æ­£åˆ™è¡¨è¾¾å¼ (Regular expression)</h2><p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥éå¸¸ç®€å•çš„å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>å°†å­—ç¬¦ä¸²ä¸æ¨¡å¼(pattern)ç›¸åŒ¹é…</li>
<li>ä½¿ç”¨æ¨¡å¼åˆ†å‰²å­—ç¬¦ä¸²</li>
</ul>
<p><strong>æ¨¡å¼ä¸åŒ¹é…</strong></p>
<p>æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<p><strong>/æ¨¡å¼/</strong></p>
<p>å¦‚ï¼š<strong><code>/Ruby/</code>  å°±è¿™æ · æŠŠå¸Œæœ›åŒ¹é…çš„å†…å®¹ç›´æ¥å†™å‡ºæ¥ã€‚</strong></p>
<p>åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ä¸å­—ç¬¦ä¸²çš„æ–¹æ³•æ˜¯ï¼š</p>
<p><strong>/æ¨¡å¼/ =~ å¸Œæœ›åŒ¹é…çš„å­—ç¬¦ä¸²</strong>  </p>
<p>è‹¥åŒ¹é…æˆåŠŸï¼Œåˆ™è¿”å›åŒ¹é…éƒ¨åˆ†çš„ä½ç½®ã€‚ï¼ˆå­—ç¬¦å’Œæ•°ç»„çš„ç´¢å¼•ä¸€æ ·ï¼Œéƒ½æ˜¯ä»0å¼€å§‹è®¡æ•°ã€‚æ‰€ä»¥å­—ç¬¦ä¸²çš„é¦–ä¸ªå­—ç¬¦ä½ç½®ä¸º0ï¼‰ã€‚<br>è‹¥åŒ¹é…å¤±è´¥ï¼Œåˆ™è¿”å› nilã€‚</p>
<p>å¦‚å›¾ï¼š<br><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8dqm9htpbj30ie06ajru.jpg" alt=""></p>
<p><code>/Ruby/i</code> åŠ ä¸ª i è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™ã€‚<br>å¦‚å›¾ï¼š<br><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8dqqa9vbkj30gc0akmy3.jpg" alt=""></p>
<p><strong>nil æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p><code>nil</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œè¡¨ç¤ºå¯¹è±¡ä¸å­˜åœ¨ã€‚<br>åƒåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­è¡¨ç¤ºæ— æ³•åŒ¹é…æˆåŠŸä¸€æ ·ï¼Œ<strong>æ–¹æ³•ä¸èƒ½è¿”å›æœ‰æ„ä¹‰çš„å€¼æ—¶å°±ä¼šè¿”å› nil</strong> ã€‚æ•°ç»„æˆ–è€…æ•£åˆ—é‡Œè·å–å¯¹è±¡æ—¶ï¼Œ<strong>è‹¥æŒ‡å®šä¸å­˜åœ¨çš„ç´¢å¼•æˆ–é”®æ—¶ï¼Œå¾—åˆ°çš„è¿”å›å€¼ä¹Ÿæ˜¯ nil</strong>ã€‚</p>
<p>å¦‚å›¾ï¼š<br><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f8dqvd9uudj30fq052aaf.jpg" alt=""></p>
<p><strong>if è¯­å¥ å’Œ while è¯­å¥åœ¨åˆ¤æ–­æ¡ä»¶æ—¶ï¼Œå¦‚æœç¢°åˆ° false å’Œ nil ï¼Œéƒ½ä¼šè®¤ä¸ºæ˜¯ ã€Œ å‡ ã€ï¼Œé™¤æ­¤ä»¥å¤–éƒ½è®¤ä¸ºæ˜¯ ã€Œ çœŸ ã€</strong>ã€‚å› æ­¤ï¼Œé™¤äº†å¯ä»¥ä½¿ç”¨è¿”å›å€¼ä¸º true æˆ–è€… false çš„æ–¹æ³•ï¼Œ<strong>è¿˜å¯ä»¥ä½¿ç”¨ ã€Œ è¿”å›æŸä¸ªå€¼ ã€ æˆ–è€…è¿”å› ã€Œ nil ã€çš„æ–¹æ³•ä½œä¸ºåˆ¤æ–­æ¡ä»¶è¡¨è¾¾å¼</strong>ã€‚</p>
<p>å¦‚å›¾ï¼š</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8dre28f5tj30os0be74z.jpg" alt=""></p>
<p>æ‰§è¡Œç¤ºä¾‹ï¼š<br><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f8dreezomej30zu02u0t5.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/01/ch01-Ruby-åˆæ¢/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/01/ch01-Ruby-åˆæ¢/" itemprop="url">ch01 Ruby åˆæ¢</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-10-01T12:34:36+08:00">
                2016-10-01
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/01/ch01-Ruby-åˆæ¢/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/01/ch01-Ruby-åˆæ¢/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-1-1-rubyå‘½ä»¤çš„æ‰§è¡Œæ–¹æ³•"><a href="#1-1-1-rubyå‘½ä»¤çš„æ‰§è¡Œæ–¹æ³•" class="headerlink" title="1.1.1 rubyå‘½ä»¤çš„æ‰§è¡Œæ–¹æ³•"></a>1.1.1 rubyå‘½ä»¤çš„æ‰§è¡Œæ–¹æ³•</h2><p>helloruby.rb (Ruby æ–‡ä»¶)<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print(<span class="string">"Hello,Ruby.\n"</span>)</div></pre></td></tr></table></figure></p>
<p>è¿›å…¥æ­¤æ–‡ä»¶è¢«ä¿å­˜çš„æ–‡ä»¶å¤¹ç›®å½•ï¼Œåœ¨ terminal ä¸­æ‰§è¡Œ</p>
<p>step0. cd rubylearning/ch01 (è¿™é‡Œå†™ä½ è‡ªå·±çš„æ–‡ä»¶å¤¹è·¯å¾„)<br>step1. ruby helloruby.rb</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8cjqlj7duj31120l6wh8.jpg" alt=""></p>
<h2 id="1-1-2-irb-å‘½ä»¤çš„æ‰§è¡Œæ–¹æ³•"><a href="#1-1-2-irb-å‘½ä»¤çš„æ‰§è¡Œæ–¹æ³•" class="headerlink" title="1.1.2 irb å‘½ä»¤çš„æ‰§è¡Œæ–¹æ³•"></a>1.1.2 irb å‘½ä»¤çš„æ‰§è¡Œæ–¹æ³•</h2><p>ä¸rubyå‘½ä»¤ä¸€æ ·ï¼Œirbå‘½ä»¤åœ¨æ§åˆ¶å°æ‰§è¡Œï¼Œä¸è¿‡ä¸éœ€è¦æŒ‡å®šç¨‹åºæ–‡ä»¶ã€‚</p>
<p>step0. terminal è¾“å…¥ irb<br>step1. ç»§ç»­è¾“å…¥ print(â€œHello,Ruby.\nâ€)</p>
<p>æ‰§è¡Œç»“æœ<br><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8cjyro53gj31060bata9.jpg" alt=""></p>
<p>åœ¨æ§åˆ¶å°å†™çš„ç¨‹åºå¯ä»¥é©¬ä¸Šåœ¨æ§åˆ¶å°é‡Œæ‰§è¡Œï¼Œè¿™å¯¹è¿›è¡Œç®€å•çš„å°æµ‹è¯•éå¸¸æ–¹ä¾¿ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•å¹¶ä¸é€‚åˆå¤§ç¨‹åºï¼Œè¿™æ—¶æˆ‘ä»¬åº”è¯¥è€ƒè™‘ä½¿ç”¨rubyå‘½ä»¤ã€‚</p>
<p>é€€å‡º irb : è¾“å…¥ exit æˆ– Ctrl+d</p>
<h2 id="1-2-ç¨‹åºè§£è¯´"><a href="#1-2-ç¨‹åºè§£è¯´" class="headerlink" title="1.2 ç¨‹åºè§£è¯´"></a>1.2 ç¨‹åºè§£è¯´</h2><p>å­—ç¬¦ä¸²ã€æ•°å€¼ã€æ—¶é—´ç­‰å„ç§æ•°æ®ï¼Œåœ¨Rubyä¸­éƒ½æ˜¯å¯¹è±¡ã€‚</p>
<p>printæ˜¯ä¸€ä¸ªæ–¹æ³•ã€‚æ‰€è°“æ–¹æ³•ï¼Œå°±æ˜¯å¯¹è±¡çš„è¡Œä¸ºã€‚<br>printæ–¹æ³•çš„ä½œç”¨å°±æ˜¯è¾“å‡º()é‡Œçš„å†…å®¹ã€‚<br>æˆ‘ä»¬åœ¨è¯´æ˜printæ–¹æ³•æ—¶ï¼Œä¼šè¯´â€œprintæ–¹æ³•ä¼šæŠŠä½œä¸ºå‚æ•°ä¼ é€’è¿‡æ¥çš„å­—ç¬¦ä¸²ï¼Œè¾“å‡ºåˆ°æ§åˆ¶å°ä¸­â€ã€‚</p>
<h2 id="1-3-å­—ç¬¦ä¸²"><a href="#1-3-å­—ç¬¦ä¸²" class="headerlink" title="1.3 å­—ç¬¦ä¸²"></a>1.3 å­—ç¬¦ä¸²</h2><h3 id="1-3-1"><a href="#1-3-1" class="headerlink" title="1.3.1"></a>1.3.1</h3><p>å­—ç¬¦\næ˜¯æ¢è¡Œç¬¦ã€‚åˆ©ç”¨æ¢è¡Œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ™®é€šçš„å­—ç¬¦è¾¾åˆ°æ¢è¡Œçš„æ•ˆæœ</p>
<p>é™¤äº†\nä»¥å¤–ï¼Œå½“æˆ‘ä»¬æƒ³åœ¨å­—ç¬¦ä¸²é‡ŒåµŒå…¥ç‰¹æ®Šç¬¦å·æ—¶ï¼Œä¹Ÿä¼šç”¨åˆ°\<br>ç¨‹åºä¼šå¯¹å­—ç¬¦ä¸²é‡Œ\åçš„å­—ç¬¦åšç‰¹æ®Šå¤„ç†ã€‚å› æ­¤ï¼Œå¦‚æœå­—ç¬¦ä¸²é‡Œéœ€è¦åŒ…å«\ï¼Œç¨‹åºè¦å†™æˆ\<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print(<span class="string">"Hello, \"Ruby\".\n"</span>)</div></pre></td></tr></table></figure></p>
<p>è¾“å‡ºç»“æœä¸ºï¼šHello, â€œRuby!â€.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print(<span class="string">"Hello \\ Ruby!"</span>)</div></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœä¸ºï¼šHello \ Ruby!</p>
<h3 id="1-3-2-â€˜â€™-ä¸-â€œâ€"><a href="#1-3-2-â€˜â€™-ä¸-â€œâ€" class="headerlink" title="1.3.2 â€˜â€™ ä¸ â€œâ€"></a>1.3.2 â€˜â€™ ä¸ â€œâ€</h3><p><strong>åœ¨å•å¼•å·é‡Œï¼Œåƒ\nè¿™æ ·çš„ç‰¹æ®Šå­—ç¬¦ä¸ç»è¿‡è½¬ä¹‰ï¼Œç¨‹åºä¼šåŸå°ä¸åŠ¨åœ°ç›´æ¥è¾“å‡ºã€‚</strong><br>ä½†ä¹Ÿæœ‰ä¾‹å¤–ï¼Œä¾‹å¦‚åœ¨å­—ç¬¦ä¸²é‡Œæƒ³åµŒå…¥\ä¸å•å¼•å·æ—¶ï¼Œè¿˜æ˜¯éœ€è¦åœ¨ä¹‹å‰åŠ ä¸Š\ã€‚ä¹Ÿå°±æ˜¯åƒè¿™æ ·ï¼Œ</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print(<span class="string">'Hello, \\ \'Ruby\'.'</span>)</div></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœä¸ºï¼šHello, \ â€˜Rubyâ€™.</p>
<h2 id="1-4-æ–¹æ³•çš„è°ƒç”¨"><a href="#1-4-æ–¹æ³•çš„è°ƒç”¨" class="headerlink" title="1.4 æ–¹æ³•çš„è°ƒç”¨"></a>1.4 æ–¹æ³•çš„è°ƒç”¨</h2><p>Rubyåœ¨è°ƒç”¨æ–¹æ³•æ—¶å¯ä»¥çœç•¥(),</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print <span class="string">"Hello, Ruby.\n"</span></div></pre></td></tr></table></figure>
<p>è™½ç„¶è¿™ç§å†™æ³•å¯ä»¥æ–¹ä¾¿åœ°è¾“å‡ºå¤šä¸ªå­—ç¬¦ä¸²ï¼Œä½†æ˜¯å¦‚æœé‡åˆ°æ¯”è¾ƒå¤æ‚çš„å‚æ•°ï¼Œä½¿ç”¨()ä¼šæ›´åŠ ä¾¿äºç†è§£ã€‚å› æ­¤ï¼Œ<strong>å»ºè®®åœ¨ä¹ æƒ¯Rubyçš„è¯­æ³•ä¹‹å‰ï¼Œä¸è¦ä½¿ç”¨çœç•¥()çš„å†™æ³•</strong>ã€‚</p>
<h2 id="1-5-puts-æ–¹æ³•"><a href="#1-5-puts-æ–¹æ³•" class="headerlink" title="1.5 puts æ–¹æ³•"></a>1.5 puts æ–¹æ³•</h2><p>putsæ–¹æ³•ä¸printæ–¹æ³•ç¨æœ‰åŒºåˆ«ï¼Œputsæ–¹æ³•åœ¨è¾“å‡ºç»“æœçš„æœ«å°¾ä¸€å®šä¼šè¾“å‡ºæ¢è¡Œç¬¦ã€‚<br>å¦‚ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">puts <span class="string">"Hello, Ruby."</span></div></pre></td></tr></table></figure>
<p>ä¸è¿‡ï¼Œå½“å‚æ•°ä¸ºä¸¤ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œå„å­—ç¬¦ä¸²æœ«å°¾éƒ½ä¼šåŠ ä¸Šæ¢è¡Œç¬¦ï¼Œå¦‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">puts <span class="string">"Hello, "</span>, <span class="string">"Ruby!"</span></div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f8ckeuh3fmj30u80ao0tt.jpg" alt=""></p>
<p>1.6 pæ–¹æ³•</p>
<p>æŠŠå­—ç¬¦ä¸² â€œ100â€ å’Œ 100 è¾“å‡ºåŒºåˆ«å¼€æ¥ï¼Œå¦‚</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8ckhhmclxj30fm0cimxw.jpg" alt=""></p>
<p>ä½¿ç”¨pæ–¹æ³•æ—¶ï¼Œæ¢è¡Œç¬¦ï¼ˆ\nï¼‰ã€åˆ¶è¡¨ç¬¦ï¼ˆ\tï¼‰ç­‰ç‰¹æ®Šå­—ç¬¦ä¸ä¼šè½¬ä¹‰ï¼Œä¼šç›´æ¥è¾“å‡ºã€‚<br>ï¼ˆåŸåˆ™ä¸Šï¼Œpæ–¹æ³•æ˜¯æä¾›ç»™ç¼–ç¨‹è€…ä½¿ç”¨çš„ã€‚ï¼‰</p>
<h2 id="1-7-ä¸­æ–‡çš„è¾“å‡º"><a href="#1-7-ä¸­æ–‡çš„è¾“å‡º" class="headerlink" title="1.7 ä¸­æ–‡çš„è¾“å‡º"></a>1.7 ä¸­æ–‡çš„è¾“å‡º</h2><p>é­”æ³•æ³¨é‡Šï¼š(ä»Ruby 2.0å¼€å§‹ï¼Œè‹¥æ²¡æŒ‡å®šé­”æ³•æ³¨é‡Šï¼ŒRubyä¼šé»˜è®¤ä½¿ç”¨UTF-8ç¼–ç æ–¹å¼,å› æ­¤ï¼Œåœ¨Ruby 2.0ä¸­å¦‚æœå¸Œæœ›ä»£ç é‡‡ç”¨UTF-8çš„ç¼–ç æ–¹å¼æ—¶ï¼Œå¯çœç•¥é­”æ³•æ³¨é‡Šã€‚)<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># encoding: GBK</span></div></pre></td></tr></table></figure></p>
<p>ä»¥UTF-8ç¼–ç æ–¹å¼åœ¨æ§åˆ¶å°è¾“å‡ºç»“æœï¼Œå¯åƒä¸‹é¢è¿™æ ·æ‰§è¡Œå‘½ä»¤ï¼š</p>
<blockquote>
<p>ruby -E UTF-8 è„šæœ¬æ–‡ä»¶å â† è„šæœ¬æ‰§è¡Œ<br>irb -E UTF-8 â† irbå¯åŠ¨</p>
</blockquote>
<h2 id="1-8-æ•°å€¼è¡¨ç¤ºä¸è®¡ç®—"><a href="#1-8-æ•°å€¼è¡¨ç¤ºä¸è®¡ç®—" class="headerlink" title="1.8 æ•°å€¼è¡¨ç¤ºä¸è®¡ç®—"></a>1.8 æ•°å€¼è¡¨ç¤ºä¸è®¡ç®—</h2><h3 id="1-8-1-æ•°å€¼è¡¨ç¤º"><a href="#1-8-1-æ•°å€¼è¡¨ç¤º" class="headerlink" title="1.8.1 æ•°å€¼è¡¨ç¤º"></a>1.8.1 æ•°å€¼è¡¨ç¤º</h3><p><strong>Rubyä¸­çš„å­—ç¬¦ä¸²æ˜¯ä»¥å­—ç¬¦ä¸²å¯¹è±¡çš„å½¢å¼å­˜åœ¨çš„ã€‚åŒæ ·åœ°ï¼Œæ•°å€¼ä¹Ÿæ˜¯ä»¥â€œæ•°å€¼å¯¹è±¡â€çš„å½¢å¼å­˜åœ¨çš„ã€‚</strong></p>
<p>å››åˆ™è¿ç®—ï¼š</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8cl41qbavj30ty09m0tn.jpg" alt=""></p>
<h3 id="1-8-2-æ•°å­¦ç›¸å…³çš„å‡½æ•°"><a href="#1-8-2-æ•°å­¦ç›¸å…³çš„å‡½æ•°" class="headerlink" title="1.8.2 æ•°å­¦ç›¸å…³çš„å‡½æ•°"></a>1.8.2 æ•°å­¦ç›¸å…³çš„å‡½æ•°</h3><p>Rubyä¸­è¿˜å¯ä»¥ä½¿ç”¨æ•°å­¦å‡½æ•°ï¼Œå¦‚å¹³æ–¹æ ¹ã€sinå’Œcosç­‰ä¸‰è§’å‡½æ•°ã€æŒ‡æ•°å‡½æ•°ç­‰ã€‚ä½¿ç”¨æ•°å­¦å‡½æ•°æ—¶ï¼Œå¿…é¡»åœ¨å‡½æ•°å‰åŠ ä¸ŠMath.æ ‡è¯†ã€‚<br>(irbå‘½ä»¤åçš„é€‰é¡¹â€“simple-promptä¼šç®€åŒ–irbçš„è¾“å‡ºç»“æœã€‚)</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8cl9sc3pcj30zu05cmy2.jpg" alt=""></p>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œå…¶ç»“æœå€¼ä¸ºâ€œ9.265358966049024 * 10çš„-5æ¬¡å¹‚â€ï¼Œä¹Ÿå°±æ˜¯0.00009265358966049024ã€‚</p>
<h2 id="1-9-å˜é‡"><a href="#1-9-å˜é‡" class="headerlink" title="1.9 å˜é‡"></a>1.9 å˜é‡</h2><p>å˜é‡æ˜¯ç¨‹åºé‡Œä¸å¯ç¼ºå°‘çš„å…ƒç´ ä¹‹ä¸€ã€‚å¯ä»¥å°†å…¶ç†è§£ä¸ºç»™å¯¹è±¡è´´ä¸Šçš„æ ‡ç­¾ã€‚</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f8clgwwa8kj30uk0homzc.jpg" alt=""></p>
<p>å˜é‡è¿˜å¯ä»¥æ¸…æ™°åœ°è¡¨ç¤ºæŸä¸ªå€¼æ‰€ä»£è¡¨çš„å«ä¹‰ã€‚å› æ­¤ï¼Œä¸ºå˜é‡èµ·ä¸€ä¸ªå®¹æ˜“ç†è§£çš„åç§°æ˜¯éå¸¸é‡è¦çš„ã€‚å»ºè®®å¤§å®¶å¹³æ—¶å¤šåŠ æ³¨æ„ï¼Œæœ€å¥½ä½¿ç”¨areaã€volumeç­‰æ„ä¹‰æ˜ç¡®çš„å•è¯ä½œä¸ºå˜é‡åã€‚</p>
<p>ä¼ é€’ç»™printæ–¹æ³•çš„å­—ç¬¦ä¸²å‚æ•°ä¹Ÿå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ï¼š<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">print <span class="string">"è¡¨é¢ç§¯ = <span class="subst">#&#123;area&#125;</span>\n"</span></div><div class="line"></div><div class="line"><span class="comment"># æˆ–è€…</span></div><div class="line">puts <span class="string">"è¡¨é¢ç§¯ = <span class="subst">#&#123;area&#125;</span>\n"</span></div></pre></td></tr></table></figure></p>
<p>åœ¨å­—ç¬¦ä¸²é‡Œä½¿ç”¨#{â€¦}è¿™æ ·çš„å†™æ³•ï¼Œå¯ä»¥æŠŠé€šè¿‡è®¡ç®—åå¾—åˆ°çš„å€¼åµŒå…¥åˆ°å­—ç¬¦ä¸²ä¸­ã€‚è¾“å‡ºç»“æœé‡Œé™¤äº†å¯ä»¥åµŒå…¥å˜é‡åï¼Œä¹Ÿå¯ä»¥åµŒå…¥â€è¡¨é¢ç§¯ =#{(x<em>y + y</em>z + z<em>x) </em> 2}\nâ€è¿™æ ·çš„è®¡ç®—å…¬å¼ï¼Œå¾—åˆ°çš„è¾“å‡ºç»“æœæ˜¯ä¸€æ ·çš„ã€‚</p>
<h2 id="1-10-æ³¨é‡Š"><a href="#1-10-æ³¨é‡Š" class="headerlink" title="1.10 æ³¨é‡Š"></a>1.10 æ³¨é‡Š</h2><p>æˆ‘ä»¬åœ¨ç¨‹åºé‡Œå¯ä»¥å†™æ³¨é‡Šã€‚æ³¨é‡Šè™½ç„¶å†™åœ¨ç¨‹åºé‡Œé¢ï¼Œä½†ç¨‹åºå¹¶ä¸ä¼šæ‰§è¡Œæ³¨é‡Šçš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ³¨é‡Šçš„å†…å®¹å¯¹ç¨‹åºçš„æ‰§è¡Œç»“æœä¸ä¼šäº§ç”Ÿä»»ä½•å½±å“ã€‚</p>
<p>Ruby ä¸­ç”¨ # è¡¨ç¤ºï¼ˆå•è¡Œï¼‰æ³¨é‡Šçš„å¼€å§‹ã€‚<br>å¦å¤–ï¼Œè¡Œçš„å¼€å¤´ç”¨ =begin å’Œ =end æ‹¬èµ·æ¥çš„éƒ¨åˆ†ä¹Ÿæ˜¯æ³¨é‡Š</p>
<p>å¦‚ï¼š<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">=begin</span></div><div class="line"><span class="comment">ã€ŠRubyåŸºç¡€æ•™ç¨‹ï¼ˆç¬¬4ç‰ˆï¼‰ã€‹ç¤ºä¾‹æ³¨é‡Šçš„ä½¿ç”¨ç¤ºä¾‹</span></div><div class="line"><span class="comment">2006/06/16åˆ›å»º</span></div><div class="line"><span class="comment">2006/07/01è¿½åŠ ä¸€éƒ¨åˆ†æ³¨é‡Š</span></div><div class="line"><span class="comment">2013/04/01ç¬¬4ç‰ˆæ›´æ–°</span></div><div class="line"><span class="comment">x = 10  # å®½</span></div><div class="line"><span class="comment">y = 20  # é•¿</span></div><div class="line"><span class="comment">z = 30  # é«˜</span></div><div class="line"><span class="comment"># è®¡ç®—è¡¨é¢ç§¯å’Œä½“ç§¯</span></div><div class="line"><span class="comment">area = (x*y + y*z + z*x) * 2</span></div><div class="line"><span class="comment">volume = x * y * z</span></div><div class="line"><span class="comment"># è¾“å‡º</span></div><div class="line"><span class="comment">print "è¡¨é¢ç§¯=", area, "\n"</span></div><div class="line"><span class="comment">print "ä½“ç§¯=", volume, "\n"</span></div><div class="line"><span class="comment">=end</span></div></pre></td></tr></table></figure></p>
<h2 id="1-11-æ§åˆ¶è¯­å¥"><a href="#1-11-æ§åˆ¶è¯­å¥" class="headerlink" title="1.11 æ§åˆ¶è¯­å¥"></a>1.11 æ§åˆ¶è¯­å¥</h2><p>æ§åˆ¶è¯­å¥å¤§è‡´å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ç±»ã€‚</p>
<ul>
<li>é¡ºåºæ§åˆ¶ï¼šæŒ‰ç…§ç¨‹åºçš„ç¼–å†™é¡ºåºï¼Œä»å¤´åˆ°å°¾æ‰§è¡Œã€‚   </li>
<li>æ¡ä»¶æ§åˆ¶ï¼šè‹¥æŸæ¡ä»¶æˆç«‹ï¼Œåˆ™æ‰§è¡Œã€‡ã€‡ï¼Œå¦åˆ™æ‰§è¡ŒÃ—Ã—ã€‚   </li>
<li>å¾ªç¯æ§åˆ¶ï¼šåœ¨æŸæ¡ä»¶æˆç«‹ä¹‹å‰ï¼Œåå¤æ‰§è¡Œã€‡ã€‡ã€‚   </li>
<li>å¼‚å¸¸æ§åˆ¶ï¼šå‘ç”ŸæŸç§å¼‚å¸¸æ—¶ï¼Œæ‰§è¡Œã€‡ã€‡ã€‚</li>
</ul>
<h2 id="1-12-æ¡ä»¶åˆ¤æ–­ï¼šif-then-end"><a href="#1-12-æ¡ä»¶åˆ¤æ–­ï¼šif-then-end" class="headerlink" title="1.12 æ¡ä»¶åˆ¤æ–­ï¼šif~then~end"></a>1.12 æ¡ä»¶åˆ¤æ–­ï¼šif~then~end</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># (è¿™é‡Œçš„æ¡ä»¶ä¸€èˆ¬æŒ‡èƒ½è¿”å› true æˆ–è€… false çš„è¡¨è¾¾å¼)</span></div><div class="line"><span class="comment"># è¿™é‡Œçš„ then ä¹Ÿå¯ä»¥çœç•¥</span></div><div class="line"><span class="keyword">if</span> æ¡ä»¶ <span class="keyword">then</span></div><div class="line">    æ¡ä»¶æˆç«‹æ—¶æ‰§è¡Œçš„å¤„ç†</div><div class="line"><span class="keyword">else</span></div><div class="line">    æ¡ä»¶ä¸æˆç«‹æ—¶æ‰§è¡Œçš„å¤„ç†</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h2 id="1-13-å¾ªç¯"><a href="#1-13-å¾ªç¯" class="headerlink" title="1.13 å¾ªç¯"></a>1.13 å¾ªç¯</h2><h3 id="1-13-1-whileè¯­å¥"><a href="#1-13-1-whileè¯­å¥" class="headerlink" title="1.13.1 whileè¯­å¥"></a>1.13.1 whileè¯­å¥</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># do å¯ä»¥çœç•¥</span></div><div class="line"><span class="keyword">while</span> å¾ªç¯æ¡ä»¶ <span class="keyword">do</span></div><div class="line">    å¸Œæœ›å¾ªç¯åšçš„å¤„ç†</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>ä¾‹å­</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># æŒ‰é¡ºåºè¾“å‡ºä»1åˆ°10åä¸ªæ•°å­—</span></div><div class="line">i = <span class="number">1</span></div><div class="line"><span class="keyword">while</span> i &lt;= <span class="number">10</span></div><div class="line">    print i, <span class="string">"\n"</span></div><div class="line">    i = i + <span class="number">1</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h3 id="1-13-2-times-æ–¹æ³•"><a href="#1-13-2-times-æ–¹æ³•" class="headerlink" title="1.13.2 times æ–¹æ³•"></a>1.13.2 times æ–¹æ³•</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># å¾ªç¯æ¬¡æ•°ç¡®å®šï¼Œä½¿ç”¨ times ä¼šæ›´åŠ ç®€å•</span></div><div class="line">å¾ªç¯æ¬¡æ•°.times <span class="keyword">do</span>   </div><div class="line">    å¸Œæœ›å¾ªç¯åšçš„å¤„ç†</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">100</span>.times <span class="keyword">do</span>  </div><div class="line">    print <span class="string">"All work and no play makes Jack a dull boy.\n"</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>times æ–¹æ³•è¢«ç§°ä¸ºè¿­ä»£å™¨ (iterator).è¿­ä»£å™¨å°±æ˜¯æŒ‡ç”¨äºæ‰§è¡Œå¾ªç¯å¤„ç†çš„æ–¹æ³•ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/28/2016-09-28-926601/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é™ˆäº‘è‰ m18301662790@gmail.com">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿™é‡Œæœ‰æˆ‘çš„è„šä¸«å°ğŸ˜„">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/09/28/2016-09-28-926601/" itemprop="url">vim åˆè¯•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2016-09-28T22:53:00+08:00">
                2016-09-28
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/09/28/2016-09-28-926601/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/09/28/2016-09-28-926601/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="rspec-base-on-ruby"><a href="#rspec-base-on-ruby" class="headerlink" title="rspec base on ruby"></a>rspec base on ruby</h1><p>å‚è€ƒé“¾æ¥ (<a href="http://rspec.info/" target="_blank" rel="external">http://rspec.info/</a>)</p>
<p>é“¾æ¥ä¸­ä½¿ç”¨çš„vim</p>
<p>é€šè¿‡å°è¯•ï¼Œæš‚æ—¶çŸ¥é“vimçš„ä¸€äº›çŸ¥è¯†ã€‚</p>
<p>vim æ˜¯å¯ä»¥åœ¨ ç»ˆç«¯ï¼ˆterminalï¼‰ ä¸­ç¼–è¾‘æ–‡ä»¶çš„ç¼–è¾‘å™¨</p>
<p>åœ¨ ç»ˆç«¯ï¼ˆterminalï¼‰ä¸­è¾“å…¥ vimtutor ä¼šå‡ºæ¥ vim çš„ä½¿ç”¨æ•™ç¨‹  </p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f89oew7g3zj31kw1ukwvc.jpg" alt=""></p>
<p>step 0.<br>    mkdir test<br>    cd test</p>
<p>step1. vim Gemfile</p>
<p>å°±å¯ä»¥æ–°å»ºä¸€ä¸ªåå­—ä¸º Gemfile çš„æ–‡ä»¶</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f89om7uue0j31kw15j0v6.jpg" alt=""></p>
<p>åœ¨å‡ºç°çš„ä¸€å † ~ æœ€ä¸Šé¢å¼€å§‹ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶é‡Œé¢çš„å†…å®¹ã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f89oped5coj314s0tsmyr.jpg" alt=""></p>
<p>è¾“å…¥å®Œæ¯•ï¼ŒæŒ‰ esc é”®é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œå†è¾“å…¥ :write å³å¯ä¿å­˜è¿™ä¸ªæ–‡ä»¶.</p>
<p><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f89oqz56lfj31060p03zl.jpg" alt=""></p>
<p>ä¹‹åè¾“å…¥ :q å³å¯é€€å‡º vim</p>
<p>åœ¨ cd test ä¸­ è¾“å…¥ atom . åœ¨atomä¸­æ‰“å¼€ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå·²ç»æ–°å¢äº†ä¸€ä¸ª Gemfile æ–‡ä»¶</p>
<p>åœ¨ vim ä¸­å¯ä»¥æ–°å»ºæ–‡ä»¶å¤¹ :!mkdir lib å³å¯æ–°å»ºæ–‡ä»¶å¤¹ lib</p>
<p><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f89ozpqc2oj310g0p40v4.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">é™ˆäº‘è‰ m18301662790@gmail.com</p>
              <p class="site-description motion-element" itemprop="description">è®°å½•ä¸€äº›æŠ€æœ¯ç‚¹ï¼Œç•™ä¸‹ä¸€äº›ç”Ÿæ´»æ„Ÿæ‚Ÿ</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">74</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">é™ˆäº‘è‰ m18301662790@gmail.com</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  

    
      <script id="dsq-count-scr" src="https://chenyunli.disqus.com/count.js" async></script>
    

    

  




	





  










  





  

  

  

  

  

  

</body>
</html>
